!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=18)}([function(e,t,r){e.exports=r(11)},function(e,t){function r(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,u,"next",e)}function u(e){r(i,a,o,s,u,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";function n(){var e=["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_2 like Mac OS X) AppleWebKit/603.2.4 (KHTML, like Gecko) Mobile/14F89;GameHelper","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/603.2.4 (KHTML, like Gecko) Version/10.1.1 Safari/603.2.4","Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)","Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)","Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)","Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Win64; x64; Trident/6.0)","Mozilla/5.0 (Windows NT 6.3; Win64, x64; Trident/7.0; rv:11.0) like Gecko","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/13.10586","Mozilla/5.0 (iPad; CPU OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1"];return e[Math.floor(Math.random()*e.length)]}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return t?{lyric:[],translate:[]}:[];var r=e.replace(/\<\d+\>/g,"").split("\n"),n=[],a=[];return r.forEach((function(e,o){var i=e.match(/((\[\d+:\d+\.\d+\])+)(.*)/);i&&i[1]&&i[1].match(/\[\d+:\d+\.\d+\]/g).forEach((function(e){if(n.push([e.substring(1,e.length-1),i[3]]),t&&r[o+1]){var s=r[o+1].match(/(\[x\-trans\])(.*)/);s&&s[2]?a.push([e.substring(1,e.length-1),s[2]]):a.push([e.substring(1,e.length-1),""])}else a.push([e.substring(1,e.length-1),""])}))})),t&&0===a.filter((function(e){return e[1]})).length&&(a=[]),t?{lyric:n.sort(),translate:a.sort()}:n.sort()}r.d(t,"e",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var o="无法获取信息，请检查songId";function i(e,t){return Array.apply(null,{length:t}).map((function(){return e[Math.floor(Math.random()*e.length)]})).join("")}function s(e){var t=(e||"").split(/;\s*/).map((function(e){return e.split("=")[0]})),r=[],n=(new Date).getTime();if(!t.includes("JSESSIONID-WYYY")){var a=new Date(n+18e5),o=i("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ\\/+",176)+":"+a.getTime();r.push(["JSESSIONID-WYYY="+o,"Expires="+a.toGMTString()])}if(!t.includes("_iuqxldmzr_")){var s=new Date(n+15768e7);r.push(["_iuqxldmzr_=32","Expires="+s.toGMTString()])}if(!t.includes("_ntes_nnid")||!t.includes("_ntes_nuid")){var u=new Date(n+31536e8),c=i("0123456789abcdefghijklmnopqrstuvwxyz",32)+","+n;r.push(["_ntes_nnid="+c,"Expires="+u.toGMTString()]),r.push(["_ntes_nuid="+c.slice(0,32),"Expires="+u.toGMTString()])}return r.map((function(e){return e[0]})).join("; ")}var u="undefined"!=typeof window&&window.localStorage},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(5);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(4);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw i}}}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(3);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2);__webpack_exports__.a=function(instance){var getRestrictLevel=function(e,t){if(!e)return 0;if(e.program)return 0;if(t)return null!=t.st&&t.st<0?100:t.fee>0&&8!=t.fee&&0==t.payed&&t.pl<=0?10:16==t.fee||4==t.fee&&2048&t.flag?11:(0==t.fee||t.payed)&&t.pl>0&&0==t.dl?1e3:0==t.pl&&0==t.dl?100:0;null!=e.status?e.status:null!=e.st&&e.st;return e.status>=0?0:e.fee>0?10:100};function qA8s(e){return null!=e.st&&e.st<0?100:e.fee>0&&8!=e.fee&&0==e.payed&&e.pl<=0?10:16==e.fee||4==e.fee&&2048&e.flag?11:(0==e.fee||e.payed)&&e.pl>0&&0==e.dl?1e3:0==e.pl&&0==e.dl?100:0}var disable=function(e,t){return 100===getRestrictLevel(e,t)||10===qA8s(t)},getMusicInfo=function(e,t){return t||(t=e.privilege),{album:{id:e.al.id,name:e.al.name,cover:e.al.picUrl},artists:e.ar.map((function(e){return{id:e.id,name:e.name}})),name:e.name,link:"https://music.163.com/#/song?id=".concat(e.id),id:e.id,cp:disable(e,t),dl:!t.fee,quality:{192:t.maxbr>=192e3,320:t.maxbr>=32e4,999:t.maxbr>=999e3},mv:e.mv||null,vendor:"netease"}},getMusicInfo2=function(e,t){return t||(t=e.privilege),{album:{id:e.album.id,name:e.album.name,cover:e.album.picUrl},artists:e.artists.map((function(e){return{id:e.id,name:e.name}})),name:e.name,link:"https://music.163.com/#/song?id=".concat(e.id),id:e.id,cp:disable(e,t),dl:!t.fee,quality:{192:t.maxbr>=192e3,320:t.maxbr>=32e4,999:t.maxbr>=999e3},mv:e.mvid||null,vendor:"netease"}},_getAllTopList,_getPersonalizedPlaylist,_getRecommendSongs,_getNewestMvs,_getTopPlaylist,_getMvComment,_getMvDetail,_getAlbumDetail,_getPlaylistDetail,_getArtistSongs,_getComment,_getTopList,_getLyric,_getSongUrl,_getBatchSongDetail,_getSongDetail,_searchSong;return{instance:instance,searchSong:(_searchSong=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a,o,i,s,u,c,l;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keyword,n=t.limit,a=void 0===n?30:n,o=t.offset,i=void 0===o?0:o,s=t.type,u={csrf_token:"",limit:a,type:void 0===s?1:s,s:r,offset:i},e.prev=2,e.next=5,instance.post("/weapi/cloudsearch/get/web",u);case 5:return c=e.sent,(l=c.result)||(l={songCount:0,songs:[]}),e.abrupt("return",{status:!0,data:{total:l.songCount,songs:l.songs.map((function(e){return getMusicInfo(e)}))}});case 11:return e.prev=11,e.t0=e.catch(2),console.warn(e.t0),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e){return _searchSong.apply(this,arguments)}),getSongDetail:(_getSongDetail=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v3/song/detail",{c:JSON.stringify([{id:t}]),ids:"["+t+"]",csrf_token:""});case 3:if(r=e.sent,n=r.songs[0]){e.next=7;break}return e.abrupt("return",{status:!1,msg:_util__WEBPACK_IMPORTED_MODULE_3__.d});case 7:return e.abrupt("return",{status:!0,data:getMusicInfo(n,r.privileges[0])});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return _getSongDetail.apply(this,arguments)}),getBatchSongDetail:(_getBatchSongDetail=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.map((function(e){return parseInt(e)})),e.prev=1,e.next=4,instance.post("/weapi/v3/song/detail",{c:JSON.stringify(t.map((function(e){return{id:e}}))),ids:JSON.stringify(t),csrf_token:""});case 4:return r=e.sent,n={},r.privileges.forEach((function(e){n[e.id]=e})),e.abrupt("return",{status:!0,data:r.songs.map((function(e){return getMusicInfo(e,n[e.id])}))});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(e){return _getBatchSongDetail.apply(this,arguments)}),getSongUrl:(_getSongUrl=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a,o,i=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:128e3,r=parseInt(r),n={ids:[t],br:r,csrf_token:""},e.prev=3,e.next=6,instance.post("/weapi/song/enhance/player/url",n);case 6:return a=e.sent,o=a.data,e.abrupt("return",{status:!0,data:{url:o[0].url,br:o[0].br,size:o[0].size}});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e){return _getSongUrl.apply(this,arguments)}),getLyric:(_getLyric=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a,o;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/song/lyric?lv=-1&kv=-1&tv=-1",{id:t},{crypto:"linuxapi"});case 3:if(!(r=e.sent).lrc||!r.lrc.lyric){e.next=12;break}for(n=Object(_util__WEBPACK_IMPORTED_MODULE_3__.c)(r.tlyric.lyric)||[],a=[],o=0;o<n.length-1;o++)n[o][1]!==n[o+1][1]&&a.push(n[o]);return n.length&&a.push(n.pop()),e.abrupt("return",{status:!0,data:{lyric:Object(_util__WEBPACK_IMPORTED_MODULE_3__.c)(r.lrc.lyric),translate:a}});case 12:return e.abrupt("return",{status:!0,data:{lyric:[],translate:[]}});case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),function(e){return _getLyric.apply(this,arguments)}),getTopList:(_getTopList=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a,o,i=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1e3,e.prev=1,e.next=4,instance.post("/weapi/v3/playlist/detail",{id:t,offset:0,total:!0,n:r,csrf_token:""});case 4:return n=e.sent,a=n.playlist,o=n.privileges,e.abrupt("return",{status:!0,data:{name:a.name,description:a.description,cover:a.coverImgUrl,playCount:a.playCount,list:a.tracks.map((function(e,t){return getMusicInfo(e,o[t])}))}});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"获取失败",log:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(e){return _getTopList.apply(this,arguments)}),getComment:(_getComment=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,r){var n,a,o,i,s,u=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:20,e.prev=1,e.next=4,instance.post("/weapi/v1/resource/comments/R_SO_4_"+t+"/?csrf_token=",{offset:(r-1)*n,rid:t,limit:n,csrf_token:""});case 4:return a=e.sent,o=a.hotComments,i=a.comments,s=a.total,e.abrupt("return",{status:!0,data:{hotComments:o||[],comments:i||[],total:s}});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return _getComment.apply(this,arguments)}),getArtistSongs:(_getArtistSongs=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,r,n){var a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v1/artist/".concat(t),{csrf_token:"",offset:r,limit:n});case 3:return a=e.sent,e.abrupt("return",{status:!0,data:{detail:{id:t,name:a.artist.name,avatar:a.artist.img1v1Url,desc:a.artist.briefDesc},songs:a.hotSongs.map((function(e){return getMusicInfo(e)}))}});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t,r){return _getArtistSongs.apply(this,arguments)}),getPlaylistDetail:(_getPlaylistDetail=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,_;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v3/playlist/detail",{id:t,n:n,s:8,csrf_token:""});case 3:a=e.sent,o=a.playlist,i=[],s=[],u=0;case 8:if(!(u<o.trackIds.length)){e.next=22;break}if(c=o.trackIds[u],s.push(c.id),1e3!==s.length&&u!==o.trackIds.length-1){e.next=19;break}return e.next=14,this.getBatchSongDetail(s);case 14:l=e.sent,p=l.status,_=l.data,p&&i.push.apply(i,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(_)),s=[];case 19:u++,e.next=8;break;case 22:return e.abrupt("return",{status:!0,data:{detail:{id:o.id,name:o.name,cover:o.coverImgUrl,desc:o.description},songs:i}});case 25:return e.prev=25,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 28:case"end":return e.stop()}}),e,this,[[0,25]])}))),function(e,t,r){return _getPlaylistDetail.apply(this,arguments)}),getAlbumDetail:(_getAlbumDetail=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/v1/album/".concat(t),{});case 3:return r=e.sent,n=r.album,a=r.songs,e.abrupt("return",{status:!0,data:{name:n.name,cover:n.picUrl,artist:{id:n.artist.id,name:n.artist.name},desc:n.description,publishTime:n.publishTime,songs:a.map((function(e){return getMusicInfo(e)}))}});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e){return _getAlbumDetail.apply(this,arguments)}),getBanner:function(){var _getBanner=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function _callee11(){var _yield$instance$get,data,pattern,banners;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.prev=0,_context11.next=3,instance.get("http://music.163.com/discover",{},{headers:{Referer:"http://music.163.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3380.0 Safari/537.36"},pureFly:!0});case 3:return _yield$instance$get=_context11.sent,data=_yield$instance$get.data,pattern=/window.Gbanners[\s\S]+?(\[[\s\S]+?\])/,banners=pattern.exec(data)[1],_context11.abrupt("return",{status:!0,data:eval(banners)});case 10:return _context11.prev=10,_context11.t0=_context11.catch(0),_context11.abrupt("return",{status:!1,msg:"请求失败",log:_context11.t0});case 13:case"end":return _context11.stop()}}),_callee11,null,[[0,10]])})));function getBanner(){return _getBanner.apply(this,arguments)}return getBanner}(),getMvDetail:(_getMvDetail=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/mv/detail",{id:t});case 3:return r=e.sent,n=r.data,e.abrupt("return",{status:!0,data:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e){return _getMvDetail.apply(this,arguments)}),getMvComment:(_getMvComment=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(t){var r,n,a,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2&&void 0!==o[2]?o[2]:20,e.prev=2,e.next=5,instance.post("/weapi/v1/resource/comments/R_MV_5_".concat(t,"/?csrf_token="),{offset:(r-1)*n,rid:t,limit:n,csrf_token:""});case 5:return a=e.sent,e.abrupt("return",{status:!0,data:{total:a.total||0,hotComments:a.hotComments||[],comments:a.comments||[]}});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return _getMvComment.apply(this,arguments)}),getTopPlaylist:(_getTopPlaylist=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,r,n,a,o=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"全部",r=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2&&void 0!==o[2]?o[2]:20,e.prev=3,e.next=6,instance.post("/weapi/playlist/highquality/list",{cat:t,offset:(r-1)*n,limit:n,csrf_token:""});case 6:return a=e.sent,e.abrupt("return",{status:!0,data:a.playlists});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(){return _getTopPlaylist.apply(this,arguments)}),getNewestMvs:(_getNewestMvs=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,r,n,a=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:20,e.prev=1,e.next=4,instance.post("/weapi/mv/first",{total:!0,limit:t,csrf_token:""});case 4:return r=e.sent,n=r.data,e.abrupt("return",{status:!0,data:n});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(){return _getNewestMvs.apply(this,arguments)}),getRecommendSongs:(_getRecommendSongs=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,r,n,a=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,r=a.length>1&&void 0!==a[1]?a[1]:30,e.prev=2,e.next=5,instance.post("/weapi/v1/discovery/recommend/songs",{limit:r,offset:t-1,total:!0});case 5:return n=e.sent,e.abrupt("return",{status:!0,data:n.recommend.map((function(e){return getMusicInfo2(e)}))});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(){return _getRecommendSongs.apply(this,arguments)}),getPersonalizedPlaylist:(_getPersonalizedPlaylist=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t,r,n=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,n.length>1&&void 0!==n[1]&&n[1],e.prev=2,e.next=5,instance.post("/weapi/personalized/playlist",{limit:30,offset:t-1,total:!0,n:1e3});case 5:return r=e.sent,e.abrupt("return",{status:!0,data:r.result});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:!1,msg:"请求失败",log:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(){return _getPersonalizedPlaylist.apply(this,arguments)}),getAllTopList:(_getAllTopList=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,instance.post("/weapi/toplist/detail",{});case 3:return t=e.sent,e.abrupt("return",{status:!0,data:t.list.map((function(e){return{id:e.id,name:e.name,cover:e.coverImgUrl,list:e.tracks.map((function(e){return{artists:[{name:e.second}],name:e.first}}))}}))});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return _getAllTopList.apply(this,arguments)})}}},function(e,t,r){var n=r(12),a=r(13),o=r(4),i=r(14);e.exports=function(e){return n(e)||a(e)||o(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=require("querystring")},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),i=new E(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=y(i,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function p(){}function _(){}function f(){}var d={};d[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==t&&r.call(g,a)&&(d=g);var h=f.prototype=p.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,s){var u=c(e[a],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return _.prototype=h.constructor=f,f.constructor=_,_.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(h),s(h,i,"Generator"),h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=M,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n=r(5);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=require("crypto")},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,a=this;return"object"!=(void 0===e?"undefined":n(e))?e:(function e(n,o){var i=a.encode,s=a.type(n);if("array"==s)n.forEach((function(t,r){e(t,o+"%5B%5D")}));else if("object"==s)for(var u in n)e(n[u],o?o+"%5B"+i(u)+"%5D":i(u));else r||(t+="&"),r=!1,t+=o+"="+i(n)}(e,""),t)},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},,function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o="undefined"!=typeof document,i=function(){function e(t){function r(e){var t,r;function n(){e.p=t=r=null}a.merge(e,{lock:function(){t||(e.p=new Promise((function(e,n){t=e,r=n})))},unlock:function(){t&&(t(),n())},clear:function(){r&&(r("cancel"),n())}})}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t||XMLHttpRequest,this.default=this;var n=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},o=n.request;r(n.response),r(o),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return n(e,[{key:"request",value:function(e,t,r){var n=this,i=new this.engine,s="Content-Type".toLowerCase(),u=this.interceptors,c=u.request,l=u.response,p=c.handler,_=new Promise((function(u,_){function f(e){return e&&e.then&&e.catch}function d(e,t){e?e.then((function(){t()})):t()}a.isObject(e)&&(e=(r=e).url),(r=r||{}).headers=r.headers||{},d(c.p,(function(){a.merge(r,n.config);var m=r.headers;m["Content-Type"]=m["Content-Type"]||m[s]||"",delete m[s],r.body=t||r.body,e=a.trim(e||""),r.method=r.method.toUpperCase(),r.url=e;var g=r;p&&(g=p.call(c,r,Promise)||r),f(g)||(g=Promise.resolve(g)),g.then((function(n){n===r?function(r){t=r.body,e=a.trim(r.url);var n=a.trim(r.baseURL||"");if(e||!o||n||(e=location.href),0!==e.indexOf("http")){var c="/"===e[0];if(!n&&o){var p=location.pathname.split("/");p.pop(),n=location.protocol+"//"+location.host+(c?"":p.join("/"))}if("/"!==n[n.length-1]&&(n+="/"),e=n+(c?e.substr(1):e),o){var m=document.createElement("a");m.href=e,e=m.href}}var g=a.trim(r.responseType||""),h="GET"===r.method,v=a.type(t),b=r.params||{};h&&"object"===v&&(b=a.merge(t,b));var y=[];(b=a.formatParams(b))&&y.push(b),h&&t&&"string"===v&&y.push(t),y.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+y.join("&")),i.open(r.method,e);try{i.withCredentials=!!r.withCredentials,i.timeout=r.timeout||0,"stream"!==g&&(i.responseType=g)}catch(e){}var x=r.headers["Content-Type"]||r.headers[s],w="application/x-www-form-urlencoded";for(var E in a.trim((x||"").toLowerCase())===w?t=a.formatParams(t):a.isFormData(t)||-1===["object","array"].indexOf(a.type(t))||(w="application/json;charset=utf-8",t=JSON.stringify(t)),x||h||(r.headers["Content-Type"]=w),r.headers)if("Content-Type"===E&&a.isFormData(t))delete r.headers[E];else try{i.setRequestHeader(E,r.headers[E])}catch(e){}function M(e,t,n){d(l.p,(function(){if(e){n&&(t.request=r);var a=e.call(l,t,Promise);t=void 0===a?t:a}f(t)||(t=Promise[0===n?"resolve":"reject"](t)),t.then((function(e){u(e)})).catch((function(e){_(e)}))}))}function O(e){e.engine=i,M(l.onerror,e,-1)}function P(e,t){this.message=e,this.status=t}i.onload=function(){var e=i.response||i.responseText;e&&r.parseJson&&-1!==(i.getResponseHeader("Content-Type")||"").indexOf("json")&&!a.isObject(e)&&(e=JSON.parse(e));var t=i.responseHeaders;if(!t){t={};var n=(i.getAllResponseHeaders()||"").split("\r\n");n.pop(),n.forEach((function(e){if(e){var r=e.split(":")[0];t[r]=i.getResponseHeader(r)}}))}var o=i.status,s=i.statusText,u={data:e,headers:t,status:o,statusText:s};if(a.merge(u,i._response),o>=200&&o<300||304===o)u.engine=i,u.request=r,M(l.handler,u,0);else{var c=new P(s,o);c.response=u,O(c)}},i.onerror=function(e){O(new P(e.msg||"Network Error",0))},i.ontimeout=function(){O(new P("timeout [ "+i.timeout+"ms ]",1))},i._options=r,setTimeout((function(){i.send(h?null:t)}),0)}(n):u(n)}),(function(e){_(e)}))}))}));return _.engine=i,_}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();i.default=i,["get","post","put","patch","head","delete"].forEach((function(e){i.prototype[e]=function(t,r,n){return this.request(t,r,a.merge({method:e},n))}})),["lock","unlock","clear"].forEach((function(e){i.prototype[e]=function(){this.interceptors.request[e]()}})),e.exports=i}])},e.exports=n()},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,a=this;return"object"!=(void 0===e?"undefined":n(e))?e:(function e(n,o){var i=a.encode,s=a.type(n);if("array"==s)n.forEach((function(t,r){e(t,o+"%5B%5D")}));else if("object"==s)for(var u in n)e(n[u],o?o+"%5B"+i(u)+"%5D":i(u));else r||(t+="&"),r=!1,t+=o+"="+i(n)}(e,""),t)},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i="undefined"!=typeof document;e.exports=function(e){return function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.requestHeaders={},this.readyState=0,this.timeout=0,this.responseURL="",this.responseHeaders={}}return a(t,[{key:"_call",value:function(e){this[e]&&this[e].apply(this,[].splice.call(arguments,1))}},{key:"_changeReadyState",value:function(e){this.readyState=e,this._call("onreadystatechange")}},{key:"open",value:function(e,t){if(this.method=e,t){if(0!==(t=o.trim(t)).indexOf("http")&&i){var r=document.createElement("a");r.href=t,t=r.href}}else t=location.href;this.responseURL=t,this._changeReadyState(1)}},{key:"send",value:function(t){var r=this;t=t||null;var a=this;if(e){var s,u={method:a.method,url:a.responseURL,headers:a.requestHeaders||{},body:t};o.merge(u,a._options||{}),"GET"===u.method&&(u.body=null),a._changeReadyState(3),a.timeout=a.timeout||0,a.timeout>0&&(s=setTimeout((function(){3===a.readyState&&(r._call("onloadend"),a._changeReadyState(0),a._call("ontimeout"))}),a.timeout)),u.timeout=a.timeout,e(u,(function(e){function t(t){var r=e[t];return delete e[t],r}if(3===a.readyState){clearTimeout(s),a.status=t("statusCode")-0;var r=t("responseText"),o=t("statusMessage");if(a.status){var u=t("headers"),c={};for(var l in u){var p=u[l],_=l.toLowerCase();"object"===(void 0===p?"undefined":n(p))?c[_]=p:(c[_]=c[_]||[],c[_].push(p))}var f=c["set-cookie"];i&&f&&f.forEach((function(e){document.cookie=e.replace(/;\s*httpOnly/gi,"")})),a.responseHeaders=c,a.statusText=o||"",a.response=a.responseText=r,a._response=e,a._changeReadyState(4),a._call("onload")}else a.statusText=r,a._call("onerror",{msg:o});a._call("onloadend")}}))}else console.error("Ajax require adapter")}},{key:"setRequestHeader",value:function(e,t){this.requestHeaders[o.trim(e)]=t}},{key:"getResponseHeader",value:function(e){return(this.responseHeaders[e.toLowerCase()]||"").toString()||null}},{key:"getAllResponseHeaders",value:function(){var e="";for(var t in this.responseHeaders)e+=t+":"+this.getResponseHeader(t)+"\r\n";return e||null}},{key:"abort",value:function(e){this._changeReadyState(0),this._call("onerror",{msg:e}),this._call("onloadend")}}],[{key:"setAdapter",value:function(t){e=t}}]),t}()}}])},e.exports=n()},function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),o=r(7),i=r.n(o),s=r(1),u=r.n(s),c=r(0),l=r.n(c),p=r(8),_=r(3),f=r.n(_),d=r(2),m=function(e){var t,r,n,a,o,i,s,c,p,_,m,g,h,v,b,y,x=function(e){var t=e.file;return{album:{id:e.album.id,name:e.album.name,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(e.album.mid,".jpg")},artists:e.singer.map((function(e){return{id:e.id,name:e.name}})),name:e.title,link:"https://y.qq.com/n/yqq/song/".concat(e.mid,".html"),id:e.id,cp:3===e.action.msg||!e.interval,dl:!e.pay.pay_down,quality:{192:Boolean(t.size_aac||t.size_192aac||t.size_ogg||t.size_192ogg),320:Boolean(t.size_320||t.size_320mp3),999:Boolean(e.file.size_flac)},mv:e.mv.vid||null,vendor:"qq"}},w=function(e){return{album:{id:e.albumid,name:e.albumname,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(e.albummid,".jpg")},artists:e.singer.map((function(e){return{id:e.id,name:e.name}})),name:e.songname,link:"https://y.qq.com/n/yqq/song/".concat(e.mid,".html"),id:e.songid,cp:3===e.msgid||!e.interval,dl:!e.pay.paydownload,quality:{192:Boolean(e.sizeogg),320:Boolean(e.size320),999:Boolean(e.sizeflac)},mv:e.vid||null,vendor:"qq"}};return{instance:e,searchSong:(y=u()(l.a.mark((function t(r){var n,a,o,i,s,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.keyword,a=r.limit,o=void 0===a?30:a,i=r.offset,s={p:(void 0===i?0:i)+1,n:o,w:n,ct:24,remoteplace:"txt.yqq.song",aggr:1,cr:1,lossless:0},t.prev=2,t.next=5,e.get("/soso/fcgi-bin/client_search_cp",s);case 5:return u=t.sent,t.abrupt("return",{status:!0,data:{total:u.data.song.totalnum,songs:u.data.song.list.map((function(e){return x(e)}))}});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(e){return y.apply(this,arguments)}),getSongDetail:(b=u()(l.a.mark((function t(r){var n,a,o,i,s,u=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],a=u.length>2&&void 0!==u[2]?u[2]:"songid",t.prev=2,t.next=5,e.get("/v8/fcg-bin/fcg_play_single_song.fcg",(o={},f()(o,a,r),f()(o,"tpl","yqq_song_detail"),o));case 5:if(i=t.sent,s=i.data[0]){t.next=9;break}return t.abrupt("return",{status:!1,msg:d.d});case 9:return t.abrupt("return",{status:!0,data:n?s:x(s)});case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])}))),function(e){return b.apply(this,arguments)}),getBatchSongDetail:(v=u()(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("/v8/fcg-bin/fcg_play_single_song.fcg",{songid:r.join(","),tpl:"yqq_song_detail"});case 3:return n=t.sent,t.abrupt("return",{status:!0,data:n.data.map((function(e){return x(e)}))});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(e){return v.apply(this,arguments)}),getMid:(h=u()(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSongDetail(t,!0);case 2:if((r=e.sent).status){e.next=5;break}throw new Error(r.msg);case 5:return e.abrupt("return",r.data.mid);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)}),getSongUrl:(g=u()(l.a.mark((function t(r){var n,a,o,i,s,u,c,p,_,f=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:128e3,n=parseInt(n),t.next=4,this.getMid(r);case 4:return a=t.sent,o="".concat(Math.floor(1e9*Math.random())),i="0",t.prev=7,t.next=10,e.get("/cgi-bin/musicu.fcg",{data:JSON.stringify({req:{module:"CDN.SrfCdnDispatchServer",method:"GetCdnDispatch",param:{guid:o,calltype:0,userip:""}},req_0:{module:"vkey.GetVkeyServer",method:"CgiGetVkey",param:{guid:o,songmid:[a],songtype:[0],uin:i,loginflag:1,platform:"20"}},comm:{uin:i,format:"json",ct:24,cv:0}})},{newApi:!0});case 10:u=t.sent,c=u.req.data.freeflowsip,p=u.req_0.data.midurlinfo,_=c[0],s={status:!0,data:{url:_+p[0].purl}},t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),s={status:!1,msg:t.t0.message||"请求失败",log:t.t0};case 20:return t.abrupt("return",s);case 21:case"end":return t.stop()}}),t,this,[[7,17]])}))),function(e){return g.apply(this,arguments)}),getLyric:(m=u()(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getMid(r);case 3:return n=t.sent,t.next=6,e.get("/lyric/fcgi-bin/fcg_query_lyric_new.fcg",{pcachetime:Date.parse(new Date),songmid:n});case 6:if(!(a=t.sent).lyric){t.next=11;break}return t.abrupt("return",{status:!0,data:{lyric:Object(d.c)(new Buffer(a.lyric,"base64").toString()),translate:Object(d.c)(new Buffer(a.trans,"base64").toString())}});case 11:return t.abrupt("return",{status:!0,data:{lyric:[],translate:[]}});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])}))),function(e){return m.apply(this,arguments)}),getComment:(_=u()(l.a.mark((function t(r){var n,a,o,i,s,u=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,a=u.length>2&&void 0!==u[2]?u[2]:20,t.prev=2,t.next=5,e.get("/base/fcgi-bin/fcg_global_comment_h5.fcg",{reqtype:2,biztype:1,topid:r,cmd:8,needmusiccrit:0,pagenum:n-1,pagesize:a,lasthotcommentid:"",domain:"qq.com"});case 5:return o=t.sent,i=o.comment,s=o.hot_comment,t.abrupt("return",{status:!0,data:{hotComments:s&&s.commentlist?s.commentlist:[],comments:i.commentlist||[],total:i.commenttotal}});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),function(e){return _.apply(this,arguments)}),getArtistSongs:(p=u()(l.a.mark((function t(r,n,a){var o,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={platform:"h5page",from:"h5",singerid:r,order:"listen",begin:n*a,num:a,songstatus:1},t.next=4,e.get("/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",o);case 4:return i=t.sent,s=i.data,t.abrupt("return",{status:!0,data:{detail:{id:r,name:s.singer_name,avatar:"http://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(s.singer_mid,".jpg"),desc:s.SingerDesc},songs:s.list.map((function(e){return w(e.musicData)}))}});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(e,t,r){return p.apply(this,arguments)}),getPlaylistDetail:(c=u()(l.a.mark((function t(r,n,a){var o,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={type:1,onlysong:0,disstid:r},t.next=4,e.get("/qzone/fcg-bin/fcg_ucc_getcdinfo_byids_cp.fcg",o);case 4:return i=t.sent,s=i.cdlist,t.abrupt("return",{status:!0,data:{detail:{id:s[0].disstid,name:s[0].dissname,cover:s[0].logo,desc:s[0].desc},songs:s[0].songlist.map((function(e){return w(e)}))}});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),function(e,t,r){return c.apply(this,arguments)}),getMusicu:function(t){return e.get("/cgi-bin/musicu.fcg",{data:JSON.stringify(t)},{newApi:!0})},getArtists:(s=u()(l.a.mark((function e(){var t,r,n,a,o,i,s,u,c,p,_,f,d,m=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:0,r=m.length>1?m[1]:void 0,a=(n=r||{}).area,o=void 0===a?-100:a,i=n.sex,s=void 0===i?-100:i,u=n.genre,c=void 0===u?-100:u,p=n.index,_=void 0===p?-100:p,e.prev=3,e.next=6,this.getMusicu({comm:{ct:24,cv:1e4},singerList:{module:"Music.SingerListServer",method:"get_singer_list",param:{area:o,sex:s,genre:c,index:_,sin:80*t,cur_page:t+1}}});case 6:return f=e.sent,d=f.singerList,e.abrupt("return",{status:!0,data:d.data});case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return s.apply(this,arguments)}),getAlbumDetail:(i=u()(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("https://c.y.qq.com/v8/fcg-bin/fcg_v8_album_info_cp.fcg",{albumid:r,tpl:"yqq_song_detail"});case 3:return n=t.sent,a=n.data,t.abrupt("return",{status:!0,data:{name:a.name,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(a.mid,".jpg"),artist:{id:a.singerid,name:a.singername},desc:a.desc,publishTime:Date.parse(a.aDate),songs:a.list.map((function(e){return w(e)}))}});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(e){return i.apply(this,arguments)}),getAllTopList:(o=u()(l.a.mark((function t(){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={page:"index",format:"html",tpl:"macv4",v8debug:1},t.prev=1,t.next=4,e.get("/v8/fcg-bin/fcg_v8_toplist_opt.fcg",r,{nocode:!0});case 4:return n=t.sent,t.abrupt("return",{status:!0,data:n.reduce((function(e,t){return e.List.concat(t.List)})).map((function(e){return{id:e.topID,name:e.ListName,cover:e.pic_v12,list:e.songlist.map((function(e,t){return{artists:[{id:e.singerid,name:e.singername}],name:e.songname,id:e.songid}}))}}))});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(){return o.apply(this,arguments)}),getTopList:(a=u()(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={platform:"h5",topid:r,tpl:3,page:"detail",type:"top"},t.prev=1,t.next=4,e.get("/v8/fcg-bin/fcg_v8_toplist_cp.fcg",n);case 4:return a=t.sent,t.abrupt("return",{status:!0,data:{name:a.topinfo.ListName,description:a.topinfo.info,cover:a.topinfo.pic_v12,playCount:a.topinfo.listennum,list:a.songlist.map((function(e){return w(e.data)}))}});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),function(e){return a.apply(this,arguments)}),getUserInfo:(n=u()(l.a.mark((function t(){var r,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("/portalcgi/fcgi-bin/music_mini_portal/fcg_getuser_infoEx.fcg");case 3:return r=t.sent,n=r.data,t.abrupt("return",{status:!0,data:n});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(){return n.apply(this,arguments)}),getRecommendPlaylist:(r=u()(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getMusicu({comm:{ct:24},recomPlaylist:{method:"get_hot_recommend",param:{async:1,cmd:2},module:"playlist.HotRecommendServer"}});case 3:return t=e.sent,r=t.recomPlaylist,e.abrupt("return",{status:!0,data:r.data.v_hot});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return r.apply(this,arguments)}),getRecommendSongs:(t=u()(l.a.mark((function e(){var t,r,n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,a.length>1&&void 0!==a[1]&&a[1],e.prev=2,e.next=5,this.getMusicu({comm:{ct:6,cv:50500},get_daily_track:{module:"music.ai_track_daily_svr",method:"get_daily_track",param:{id:99,cmd:0,page:t-1}}});case 5:return r=e.sent,n=r.get_daily_track,e.abrupt("return",{status:!0,data:n.data.tracks.map((function(e){return x(e)}))});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(){return t.apply(this,arguments)})}},g=r(15),h=Buffer.from("0102030405060708"),v=Buffer.from("0CoJUm6Qyw8W8jud"),b=Buffer.from("rFgB&h#%2?^eDg:Q"),y=function(e,t,r,n){var a=g.createCipheriv("aes-128-"+t,r,n);return Buffer.concat([a.update(e),a.final()])},x=function(e){var t,r,n,a=JSON.stringify(e),o=g.randomBytes(16).map((function(e){return"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(e%62).charCodeAt()}));return{params:y(Buffer.from(y(Buffer.from(a),"cbc",v,h).toString("base64")),"cbc",o,h).toString("base64"),encSecKey:(t=o.reverse(),r="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDgtQn2JZ34ZC28NWYpAUd98iZ37BUrX/aKzmFbt7clFSs6sXqHauqKWqdtLkF2KexO40H1YTX8z2lSgBBOAxLsvaklV8k4cBFK9snQXE9/DDaFt6Rr7iVZMldczhC0JNgTz+SHXT6CBHuX3e9SdB1Ua44oncaTWz7OBGLbCiK45wIDAQAB\n-----END PUBLIC KEY-----",n=g.constants?g.constants.RSA_NO_PADDING:3,t=Buffer.concat([Buffer.alloc(128-t.length),Buffer.from(t)]),g.publicEncrypt({key:r,padding:n},t)).toString("hex")}},w=function(e){var t=JSON.stringify(e);return{eparams:y(Buffer.from(t),"ecb",b,"").toString("hex").toUpperCase()}},E=r(10),M=r.n(E),O=function(e){var t=e();return t.config.baseURL="https://c.y.qq.com",t.config.timeout=5e3,t.config.parseJson=!1,t.config.headers={Referer:"https://y.qq.com/portal/player.html","User-Agent":Object(d.e)()},t.config.rejectUnauthorized=!1,t.interceptors.request.use((function(e){e.newApi&&(e.baseURL="https://u.y.qq.com",delete e.newApi);var t=0,r=5381;if(d.b){var n=window.localStorage.getItem("@suen/music-api-qq-login-cookie");if(n)try{e.headers.Cookie=n;var a={};n.replace(/\s*/g,"").split(";").map((function(e){return e.split("=")})).forEach((function(e){a[e[0]]=e[1]})),t=a.uin.substring(2),r=function(e){for(var t=5381,r=0,n=e.length;n>r;++r)t+=(t<<5)+e.charCodeAt(r);return 2147483647&t}(a.p_skey||a.skey||a.p_lskey||a.lskey)}catch(e){console.warn(e)}}return e.body=Object.assign({},{g_tk:r,format:"jsonp",callback:"callback",jsonpCallback:"callback",loginUin:t,hostUin:0,inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0,new_json:1},e.body),e}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){if(!e.data)return Promise.reject({status:!1,msg:"请求无结果"});var t=!1;return["callback","jsonCallback","MusicJsonCallback"].forEach((function(r){if(e.data.toString().trim().startsWith(r)){var n=new RegExp(r+"\\(([\\s\\S]*)\\)"),a=e.data.match(n);e.data=JSON.parse(a[1]),t=!0}})),t?e.request.nocode||0===e.data.code?e.data:Promise.reject({status:!1,msg:"请求结果报错",log:e.data}):Promise.reject({status:!1,msg:"请求结果错误",log:e.data})}),(function(e){return console.warn(e),Promise.reject({status:!1,msg:"请求失败",log:e})})),t};t.default=function(e){return t=function(e){var t=r(16),n=r(17)(e);return function(){return new t(n)}}(e),E={netease:Object(p.a)((n=t,o=n(),o.config.baseURL="https://music.163.com",o.config.timeout=5e3,o.config.headers={Accept:"*/*","Accept-Language":"zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4",Connection:"keep-alive","Content-Type":"application/x-www-form-urlencoded",Referer:"http://music.163.com",Host:"music.163.com","User-Agent":Object(d.e)(),Cookie:Object(d.a)()},o.config.rejectUnauthorized=!1,o.interceptors.request.use((function(e){if(e.pureFly)return e;if(d.b){var t=window.localStorage.getItem("@suen/music-api-netease-login-cookie");t&&(e.headers.Cookie=t)}var r;if("linuxapi"===e.crypto)r=w({method:e.method,url:e.baseURL+e.url.replace(/\w*api/,"api"),params:e.body}),e.headers["User-Agent"]="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36",e.url="/api/linux/forward";else{var n=x(e.body);r={params:n.params,encSecKey:n.encSecKey}}return e.body=M.a.stringify(r),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){if(e.request.pureFly)return e;if(!e.data)return Promise.reject({status:!1,msg:"请求无结果"});var t="string"==typeof e.data?JSON.parse(e.data):e.data;return 200!==t.code?Promise.reject({status:!1,msg:"请求失败",log:e.data}):t}),(function(e){return Promise.reject(e)})),o)),qq:m(O(t))},P=["netease","qq"],D=function(e,t){return P.includes(e)?!t||Array.isArray(t)&&!t.length?Promise.reject({status:!1,msg:"id不能为空"}):void 0:Promise.reject({status:!1,msg:"vendor错误"})},k=function(){var e=u()(l.a.mark((function e(t,r,n){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.netease[t](r);case 2:return a=(a=e.sent).status?a.data:n,e.next=6,E.qq[t](r);case 6:return o=(o=e.sent).status?o.data:n,e.abrupt("return",{status:!0,data:{netease:a,qq:o}});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),i()({},E,{searchSong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?k("searchSong",{keyword:e,offset:t},{total:0,songs:[]}):Promise.reject({status:!1,msg:"查询参数不能为空"})},getSongDetail:(y=u()(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,r);case 2:return e.next=4,E[t].getSongDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return y.apply(this,arguments)}),getBatchSongDetail:(b=u()(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,r);case 2:return e.next=4,E[t].getBatchSongDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)}),getSongUrl:(v=u()(l.a.mark((function e(t,r){var n,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:128e3,e.next=3,D(t,r);case 3:return e.next=5,E[t].getSongUrl(r,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)}),getLyric:(h=u()(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,r);case 2:return e.next=4,E[t].getLyric(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)}),getTopList:function(e){return e?E.netease.getTopList(e):{status:!1,msg:"id不能为空"}},getComment:(g=u()(l.a.mark((function e(t,r){var n,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:1,a=o.length>3&&void 0!==o[3]?o[3]:20,e.next=4,D(t,r);case 4:return e.next=6,E[t].getComment(r,n,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),getArtistSongs:(f=u()(l.a.mark((function e(t,r){var n,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,a=o.length>3&&void 0!==o[3]?o[3]:50,e.next=4,D(t,r);case 4:return e.next=6,E[t].getArtistSongs(r,n,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)}),getPlaylistDetail:(_=u()(l.a.mark((function e(t,r){var n,a,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,a=o.length>3&&void 0!==o[3]?o[3]:65535,e.next=4,D(t,r);case 4:return e.next=6,E[t].getPlaylistDetail(r,n,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)}),getAlbumDetail:(c=u()(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,r);case 2:return e.next=4,E[t].getAlbumDetail(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)}),getAnyVendorSongDetail:(s=u()(l.a.mark((function e(t){var r,n,o,i,s,u,c,p,_,f,d,m,g,h=this,v=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v.length>1&&void 0!==v[1]?v[1]:0,n={netease:[],qq:[]},t.forEach((function(e){n[e.vendor].push(e.id)})),o={},i=l.a.mark((function e(){var t,a,i,c,p,_;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u[s],(a=n[t]).length){e.next=4;break}return e.abrupt("return","continue");case 4:i={qq:50,netease:1e3}[t],c=[],p=0;case 7:if(!(p<a.length)){e.next=21;break}if(c.push(a[p]),c.length!==i&&p+1!==a.length){e.next=18;break}return e.next=12,h.getBatchSongDetail(t,c);case 12:if((_=e.sent).status?_.data.forEach((function(e){o["".concat(t,"_").concat(e.id)]=e})):console.warn("".concat(t,"获取详情失败")),c=[],!r){e.next=18;break}return e.next=18,new Promise((function(e){setTimeout((function(){e()}),r)}));case 18:p++,e.next=7;break;case 21:case"end":return e.stop()}}),e)})),s=0,u=Object.keys(n);case 6:if(!(s<u.length)){e.next=14;break}return e.delegateYield(i(),"t0",8);case 8:if("continue"!==e.t0){e.next=11;break}return e.abrupt("continue",11);case 11:s++,e.next=6;break;case 14:c=[],p=a()(t);try{for(p.s();!(_=p.n()).done;)f=_.value,d=f.id,m=f.vendor,(g=o["".concat(m,"_").concat(d)])?c.push(g):(console.warn("歌曲无法获取详情：".concat(m," ").concat(d)),c.push(null))}catch(e){p.e(e)}finally{p.f()}return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})});var t,n,o,s,c,_,f,g,h,v,b,y,E,P,D,k}}])}));