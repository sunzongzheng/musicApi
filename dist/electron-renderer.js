!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=21)}([function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.randomUserAgent=function(){var e=["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1","Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 5.1.1; Nexus 6 Build/LYZ28E) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_2 like Mac OS X) AppleWebKit/603.2.4 (KHTML, like Gecko) Mobile/14F89;GameHelper","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_5) AppleWebKit/603.2.4 (KHTML, like Gecko) Version/10.1.1 Safari/603.2.4","Mozilla/5.0 (iPhone; CPU iPhone OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10.12; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:46.0) Gecko/20100101 Firefox/46.0","Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)","Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)","Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)","Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Win64; x64; Trident/6.0)","Mozilla/5.0 (Windows NT 6.3; Win64, x64; Trident/7.0; rv:11.0) like Gecko","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/13.10586","Mozilla/5.0 (iPad; CPU OS 10_0 like Mac OS X) AppleWebKit/602.1.38 (KHTML, like Gecko) Version/10.0 Mobile/14A300 Safari/602.1"];return e[Math.floor(Math.random()*e.length)]};var o="undefined"!=typeof window;t.isBrowser=o;var a=function(e){function t(t){var r=e.call(this)||this;return"string"==typeof t?r.msg=t:(r.msg=t.msg,r.log=t.log),r}return i(t,e),t}(Error);t.Err=a;var u=new(function(){function e(){this.key="@suen/music-api/store",this.store=o?JSON.parse(localStorage.getItem(this.key)||"{}"):{"xiami-h5-api-cookie":{expire:+new Date+864e5,value:{_m_h5_tk:"623b914dd9ac90f2f71f17d8e314ca95_1554470522821",_m_h5_tk_enc:"7e2d377cfc6bcc8f22983e62db741b47"}},"xiami-web-api-cookie":{expire:+new Date+864e5,value:{xmgid:"9994445a-f750-42d9-80b4-1f15ab7507c9",xm_sg_tk:"a04b31f1035d52e47696e203d929bbfa_1554462962294","xm_sg_tk.sig":"uQEWcgAnBMj7jto5DzSv9gNpj7SUJo165mvKLN0-22Y"}}}}return e.prototype.get=function(e){if(this.store[e]&&this.store[e].expire>+new Date)return this.store[e].value},e.prototype.set=function(e,t,r){void 0===r&&(r=864e5),this.store[e]={value:t,expire:+new Date+r},o&&localStorage.setItem(this.key,JSON.stringify(this.store))},e}());t.cache=u},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,n=this;if(!this.isObject(e))return e;return function e(i,o){var a=n.encode,u=n.type(i);if("array"==u)i.forEach(function(t,r){n.isObject(t)||(r=""),e(t,o+"%5B"+r+"%5D")});else if("object"==u)for(var s in i)e(i[s],o?o+"%5B"+a(s)+"%5D":a(s));else r||(t+="&"),r=!1,t+=o+"="+a(i)}(e,""),t},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},,function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(0),o="undefined"!=typeof document,a=function(){function e(t){function r(e){var t,r;function n(){e.p=t=r=null}i.merge(e,{lock:function(){t||(e.p=new Promise(function(e,n){t=e,r=n}))},unlock:function(){t&&(t(),n())},clear:function(){r&&(r("cancel"),n())}})}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t||XMLHttpRequest,this.default=this;var n=this.interceptors={response:{use:function(e,t){this.handler=e,this.onerror=t}},request:{use:function(e){this.handler=e}}},o=n.request;r(n.response),r(o),this.config={method:"GET",baseURL:"",headers:{},timeout:0,params:{},parseJson:!0,withCredentials:!1}}return n(e,[{key:"request",value:function(e,t,r){var n=this,a=new this.engine,u="Content-Type",s=u.toLowerCase(),l=this.interceptors,p=l.request,c=l.response,f=p.handler,g=new Promise(function(l,g){function h(e){return e&&e.then&&e.catch}function d(e,t){e?e.then(function(){t()}):t()}i.isObject(e)&&(e=(r=e).url),(r=r||{}).headers=r.headers||{},d(p.p,function(){i.merge(r,JSON.parse(JSON.stringify(n.config)));var y=r.headers;y[u]=y[u]||y[s]||"",delete y[s],r.body=t||r.body,e=i.trim(e||""),r.method=r.method.toUpperCase(),r.url=e;var m=r;f&&(m=f.call(p,r,Promise)||r),h(m)||(m=Promise.resolve(m)),m.then(function(n){n===r?function(r){t=r.body,e=i.trim(r.url);var n=i.trim(r.baseURL||"");if(e||!o||n||(e=location.href),0!==e.indexOf("http")){var p="/"===e[0];if(!n&&o){var f=location.pathname.split("/");f.pop(),n=location.protocol+"//"+location.host+(p?"":f.join("/"))}if("/"!==n[n.length-1]&&(n+="/"),e=n+(p?e.substr(1):e),o){var y=document.createElement("a");y.href=e,e=y.href}}var m=i.trim(r.responseType||""),v="GET"===r.method,b=i.type(t),I=r.params||{};v&&"object"===b&&(I=i.merge(t,I));var S=[];(I=i.formatParams(I))&&S.push(I),v&&t&&"string"===b&&S.push(t),S.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+S.join("&")),a.open(r.method,e);try{a.withCredentials=!!r.withCredentials,a.timeout=r.timeout||0,"stream"!==m&&(a.responseType=m)}catch(e){}var w=r.headers[u]||r.headers[s],_="application/x-www-form-urlencoded";for(var B in i.trim((w||"").toLowerCase())===_?t=i.formatParams(t):i.isFormData(t)||-1===["object","array"].indexOf(i.type(t))||(_="application/json;charset=utf-8",t=JSON.stringify(t)),w||v||(r.headers[u]=_),r.headers)if(B===u&&i.isFormData(t))delete r.headers[B];else try{a.setRequestHeader(B,r.headers[B])}catch(e){}function A(e,t,n){d(c.p,function(){if(e){n&&(t.request=r);var i=e.call(c,t,Promise);t=void 0===i?t:i}h(t)||(t=Promise[0===n?"resolve":"reject"](t)),t.then(function(e){l(e)}).catch(function(e){g(e)})})}function M(e){e.engine=a,A(c.onerror,e,-1)}function N(e,t){this.message=e,this.status=t}a.onload=function(){try{var e=a.response||a.responseText;e&&r.parseJson&&-1!==(a.getResponseHeader(u)||"").indexOf("json")&&!i.isObject(e)&&(e=JSON.parse(e));var t=a.responseHeaders;if(!t){t={};var n=(a.getAllResponseHeaders()||"").split("\r\n");n.pop(),n.forEach(function(e){if(e){var r=e.split(":")[0];t[r]=a.getResponseHeader(r)}})}var o=a.status,s=a.statusText,l={data:e,headers:t,status:o,statusText:s};if(i.merge(l,a._response),o>=200&&o<300||304===o)l.engine=a,l.request=r,A(c.handler,l,0);else{var p=new N(s,o);p.response=l,M(p)}}catch(p){M(new N(p.msg,a.status))}},a.onerror=function(e){M(new N(e.msg||"Network Error",0))},a.ontimeout=function(){M(new N("timeout [ "+a.timeout+"ms ]",1))},a._options=r,setTimeout(function(){a.send(v?null:t)},0)}(n):l(n)},function(e){g(e)})})});return g.engine=a,g}},{key:"all",value:function(e){return Promise.all(e)}},{key:"spread",value:function(e){return function(t){return e.apply(null,t)}}}]),e}();a.default=a,["get","post","put","patch","head","delete"].forEach(function(e){a.prototype[e]=function(t,r,n){return this.request(t,r,i.merge({method:e},n))}}),["lock","unlock","clear"].forEach(function(e){a.prototype[e]=function(){this.interceptors.request[e]()}}),e.exports=a}])},e.exports=n()},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(19)),o=r(0);!function(e){e[e.normal=128]="normal",e[e.high=320]="high",e[e.max=999]="max"}(t.br||(t.br={})),function(e){e.netease="netease",e.qq="qq",e.xiami="xiami"}(t.vendor||(t.vendor={})),function(e){e.song="song",e.album="album",e.singer="singer",e.playlist="playlist",e.user="user"}(t.searchType||(t.searchType={}));var a=function(){function e(e){this.engine=i.default(e)}return e.prototype.checkId=function(e){if(void 0===e||Array.isArray(e)&&!e.length)throw new o.Err("id不能为空")},e.prototype.checkBr=function(e){if(![128,320,999].includes(e))throw new o.Err({msg:"br错误",log:e})},e}();t.default=a},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t){e.exports=require("url")},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(r.charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i);return t}},e.exports=n},function(e,t,r){var n,i,o,a,u;n=r(6),i=r(3).utf8,o=r(5),a=r(3).bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,l=1732584193,p=-271733879,c=-1732584194,f=271733878,g=0;g<r.length;g++)r[g]=16711935&(r[g]<<8|r[g]>>>24)|4278255360&(r[g]<<24|r[g]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var h=u._ff,d=u._gg,y=u._hh,m=u._ii;for(g=0;g<r.length;g+=16){var v=l,b=p,I=c,S=f;p=m(p=m(p=m(p=m(p=y(p=y(p=y(p=y(p=d(p=d(p=d(p=d(p=h(p=h(p=h(p=h(p,c=h(c,f=h(f,l=h(l,p,c,f,r[g+0],7,-680876936),p,c,r[g+1],12,-389564586),l,p,r[g+2],17,606105819),f,l,r[g+3],22,-1044525330),c=h(c,f=h(f,l=h(l,p,c,f,r[g+4],7,-176418897),p,c,r[g+5],12,1200080426),l,p,r[g+6],17,-1473231341),f,l,r[g+7],22,-45705983),c=h(c,f=h(f,l=h(l,p,c,f,r[g+8],7,1770035416),p,c,r[g+9],12,-1958414417),l,p,r[g+10],17,-42063),f,l,r[g+11],22,-1990404162),c=h(c,f=h(f,l=h(l,p,c,f,r[g+12],7,1804603682),p,c,r[g+13],12,-40341101),l,p,r[g+14],17,-1502002290),f,l,r[g+15],22,1236535329),c=d(c,f=d(f,l=d(l,p,c,f,r[g+1],5,-165796510),p,c,r[g+6],9,-1069501632),l,p,r[g+11],14,643717713),f,l,r[g+0],20,-373897302),c=d(c,f=d(f,l=d(l,p,c,f,r[g+5],5,-701558691),p,c,r[g+10],9,38016083),l,p,r[g+15],14,-660478335),f,l,r[g+4],20,-405537848),c=d(c,f=d(f,l=d(l,p,c,f,r[g+9],5,568446438),p,c,r[g+14],9,-1019803690),l,p,r[g+3],14,-187363961),f,l,r[g+8],20,1163531501),c=d(c,f=d(f,l=d(l,p,c,f,r[g+13],5,-1444681467),p,c,r[g+2],9,-51403784),l,p,r[g+7],14,1735328473),f,l,r[g+12],20,-1926607734),c=y(c,f=y(f,l=y(l,p,c,f,r[g+5],4,-378558),p,c,r[g+8],11,-2022574463),l,p,r[g+11],16,1839030562),f,l,r[g+14],23,-35309556),c=y(c,f=y(f,l=y(l,p,c,f,r[g+1],4,-1530992060),p,c,r[g+4],11,1272893353),l,p,r[g+7],16,-155497632),f,l,r[g+10],23,-1094730640),c=y(c,f=y(f,l=y(l,p,c,f,r[g+13],4,681279174),p,c,r[g+0],11,-358537222),l,p,r[g+3],16,-722521979),f,l,r[g+6],23,76029189),c=y(c,f=y(f,l=y(l,p,c,f,r[g+9],4,-640364487),p,c,r[g+12],11,-421815835),l,p,r[g+15],16,530742520),f,l,r[g+2],23,-995338651),c=m(c,f=m(f,l=m(l,p,c,f,r[g+0],6,-198630844),p,c,r[g+7],10,1126891415),l,p,r[g+14],15,-1416354905),f,l,r[g+5],21,-57434055),c=m(c,f=m(f,l=m(l,p,c,f,r[g+12],6,1700485571),p,c,r[g+3],10,-1894986606),l,p,r[g+10],15,-1051523),f,l,r[g+1],21,-2054922799),c=m(c,f=m(f,l=m(l,p,c,f,r[g+8],6,1873313359),p,c,r[g+15],10,-30611744),l,p,r[g+6],15,-1560198380),f,l,r[g+13],21,1309151649),c=m(c,f=m(f,l=m(l,p,c,f,r[g+4],6,-145523070),p,c,r[g+11],10,-1120210379),l,p,r[g+2],15,718787259),f,l,r[g+9],21,-343485551),l=l+v>>>0,p=p+b>>>0,c=c+I>>>0,f=f+S>>>0}return n.endian([l,p,c,f])})._ff=function(e,t,r,n,i,o,a){var u=e+(t&r|~t&n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._gg=function(e,t,r,n,i,o,a){var u=e+(t&n|r&~n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._hh=function(e,t,r,n,i,o,a){var u=e+(t^r^n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._ii=function(e,t,r,n,i,o,a){var u=e+(r^(t|~n))+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(u(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),u=o(r(7)),s=r(4),l={web:"xiami-web-api-cookie",h5:"xiami-h5-api-cookie"};t.default=function(e){e.config.timeout=5e3,e.config.headers={"User-Agent":a.randomUserAgent()},e.config.rejectUnauthorized=!1,e.interceptors.request.use(function(e){if(e.webApi){var t=a.cache.get(l.web);if(t&&(e.headers.Cookie=Object.keys(t).map(function(e){return e+"="+t[e]}).join("; ")),!e._retryed){var r=e.body;e.body={},e.body._q=JSON.stringify(r),e.url="https://www.xiami.com/api"+e.url}if(t&&t.xm_sg_tk){var n=new s.URL(e.url||"");e.body._s=u.default(t.xm_sg_tk.split("_")[0]+"_xmMain_"+n.pathname+"_"+e.body._q)}}else{e.headers["Content-Type"]="application/x-www-form-urlencoded";var i=a.cache.get(l.h5);if(i&&(e.headers.Cookie=Object.keys(i).map(function(e){return e+"="+i[e]}).join("; ")),!e._retryed){r=e.body;var o=JSON.stringify({requestStr:JSON.stringify({header:{appId:200,appVersion:1e6,callId:(new Date).getTime(),network:1,platformId:"mac",remoteIp:"192.168.1.101",resolution:"1178*778"},model:r})});e.body={api:e.url,v:"1.0",type:"originaljson",dataType:"json",data:o},e.url="http://acs.m.xiami.com/h5/"+e.url+"/1.0/"}i&&i._m_h5_tk&&(e.body.appKey=12574478,e.body.t=+new Date,e.body.sign=u.default(i._m_h5_tk.split("_")[0]+"&"+e.body.t+"&"+e.body.appKey+"&"+e.body.data))}return e}),e.interceptors.response.use(function(t){return n(this,void 0,void 0,function(){var r,n,o,u,s,p,c;return i(this,function(i){return(r=t.headers["set-cookie"])&&(n=Array.isArray(r)?r:[r],o={},n.map(function(e){return e.split(";")[0].trim()}).map(function(e){return e.split("=")}).forEach(function(e){o[e[0]]=e[1]}),a.cache.set(t.request.webApi?l.web:l.h5,o),console.log(o)),t.request.webApi?(u=t.data.code,s=t.data.msg):(p=t.data.ret[0].split("::"),u=p[0],s=p[1]),c=t.request.webApi?["SG_TOKEN_EMPTY","SG_TOKEN_EXPIRED","SG_EMPTY"]:["FAIL_SYS_TOKEN_EMPTY","FAIL_SYS_TOKEN_EXOIRED","FAIL_SYS_EMPTY"],"SUCCESS"===u?[2,t.request.webApi?t.data.result.data:t.data.data.data]:c.includes(u)?t.request._retryed?t.request._retryed<3?(t.request._retryed++,[2,e.request(t.request)]):[2,Promise.reject({msg:s,log:t})]:(t.request._retryed=1,[2,e.request(t.request)]):[2,Promise.reject({msg:s,log:t})]})})},function(e){return Promise.reject({msg:"请求失败",log:e})})}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(r(2)),l=u(r(1)),p=u(r(8)),c=function(e){function t(t){var r=e.call(this,t)||this;return r.Api=new l.default(r.engine),p.default(r.Api),r}return i(t,e),t.prototype.replaceImage=function(e){return void 0===e&&(e=""),e.replace("http","https").replace("_1.jpg","_4.jpg").replace("_1.png","_4.png")},t.prototype.getMusicInfo=function(e){var t={};e.purviewRoleVOs.forEach(function(e){t[e.quality]=e.isExist});var r=t.s?999:t.h?320:128;return{album:{id:e.albumId,name:e.albumName,cover:this.replaceImage(e.albumLogo)},artists:[{id:e.artistId,name:e.artistName}],name:e.songName,songId:e.songId,cp:!e.listenFiles.length,maxbr:r,mv:e.mvId||null,vendor:"xiami"}},t.prototype.search=function(e){var t=e.keyword,r=void 0===t?"":t,n=e.limit,i=void 0===n?30:n,u=e.page,s=void 0===u?1:u;e.type;return o(this,void 0,void 0,function(){var e,t,n,o=this;return a(this,function(a){switch(a.label){case 0:return e={key:r,pagingVO:{page:s,pageSize:i}},[4,this.Api.get("/search/searchSongs",e,{webApi:!0})];case 1:return t=a.sent(),n=t.songs,[2,{total:t.pagingVO.count,songs:n.map(function(e){return o.getMusicInfo(e)})}]}})})},t.prototype.getSongDetail=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,function(){var r,n=this;return a(this,function(i){switch(i.label){case 0:return this.checkId(e),[4,this.Api.get("mtop.alimusic.music.songservice.getsongs",{songIds:e})];case 1:return r=i.sent(),[2,t?r:r.songs.map(function(e){return n.getMusicInfo(e)})]}})})},t.prototype.getSongUrl=function(e,t){return void 0===t&&(t=128),o(this,void 0,void 0,function(){var r,n;return a(this,function(i){switch(i.label){case 0:return this.checkBr(t),[4,this.getSongDetail([e],!0)];case 1:switch(r=i.sent(),n={},r.songs[0].listenFiles.forEach(function(e){n[e.quality]=e.listenFile}),t){case 128:return[2,n.l];case 320:return[2,n.h];case 999:return[2,n.s];default:return[2,""]}return[2]}})})},t}(s.default);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(e){e.config.baseURL="https://c.y.qq.com",e.config.timeout=5e3,e.config.parseJson=!1,e.config.headers={Referer:"https://y.qq.com/portal/player.html","User-Agent":n.randomUserAgent()},e.config.rejectUnauthorized=!1,e.interceptors.request.use(function(e){e.newApi&&(e.baseURL="https://u.y.qq.com",delete e.newApi);var t="0",r=5381;if(n.isBrowser){var i=localStorage.getItem("@suen/music-api-qq-login-cookie");if(i)try{e.headers.Cookie=i;var o={};i.replace(/\s*/g,"").split(";").map(function(e){return e.split("=")}).forEach(function(e){o[e[0]]=e[1]}),t=o.uin.substring(2),r=function(e){for(var t=5381,r=0,n=e.length;n>r;++r)t+=(t<<5)+e.charCodeAt(r);return 2147483647&t}(o.p_skey||o.skey||o.p_lskey||o.lskey)}catch(e){console.warn(e)}}return e.body=Object.assign({},{g_tk:r,format:"jsonp",callback:"callback",jsonpCallback:"callback",loginUin:t,hostUin:0,inCharset:"utf8",outCharset:"utf-8",notice:0,platform:"yqq",needNewCode:0,new_json:1},e.body),e}),e.interceptors.response.use(function(e){if(!e.data)return Promise.reject({msg:"请求无结果",log:e});var t=!1;return["callback","jsonCallback","MusicJsonCallback"].forEach(function(r){if(e.data.toString().trim().startsWith(r)){var n=new RegExp(r+"\\(([\\s\\S]*)\\)"),i=e.data.match(n);e.data=JSON.parse(i[1]),t=!0}}),t?e.request.nocode||0===e.data.code?e.data:Promise.reject({msg:"请求结果报错",log:e.data}):Promise.reject({msg:"请求结果错误",log:e.data})},function(e){return console.warn(e),Promise.reject({msg:"请求失败",log:e})})}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(r(2)),l=u(r(1)),p=u(r(10)),c=function(e){function t(t){var r=e.call(this,t)||this;return r.Api=new l.default(r.engine),p.default(r.Api),r}return i(t,e),t.prototype.getMusicInfo=function(e){var t=e.file,r=128;return e.file.size_flac?r=999:(t.size_320||t.size_320mp3)&&(r=320),{album:{id:e.album.id,name:e.album.name,cover:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+e.album.mid+".jpg"},artists:e.singer.map(function(e){return{id:e.id,name:e.name}}),name:e.title,songId:e.id,cp:3===e.action.msg||!e.interval,maxbr:r,mv:e.mv.vid||null,vendor:"qq"}},t.prototype.search=function(e){var t=e.keyword,r=void 0===t?"":t,n=e.limit,i=void 0===n?30:n,u=e.page,s=void 0===u?1:u;e.type;return o(this,void 0,void 0,function(){var e,t,n=this;return a(this,function(o){switch(o.label){case 0:return e={p:s,n:i,w:r,ct:24,remoteplace:"txt.yqq.song",aggr:1,cr:1,lossless:0},[4,this.Api.get("/soso/fcgi-bin/client_search_cp",e)];case 1:return[2,{total:(t=o.sent()).data.song.totalnum,songs:t.data.song.list.map(function(e){return n.getMusicInfo(e)})}]}})})},t.prototype.getSongDetail=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,function(){var r,n=this;return a(this,function(i){switch(i.label){case 0:return this.checkId(e),[4,this.Api.get("/v8/fcg-bin/fcg_play_single_song.fcg",{songid:e.join(","),tpl:"yqq_song_detail"})];case 1:return r=i.sent().data,[2,t?r:r.map(function(e){return n.getMusicInfo(e)})]}})})},t.prototype.getMid=function(e){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.getSongDetail([e],!0)];case 1:return[2,t.sent()[0].mid]}})})},t.prototype.getSongUrl=function(e,t){return void 0===t&&(t=128),o(this,void 0,void 0,function(){var r,n,i;return a(this,function(o){switch(o.label){case 0:return this.checkBr(t),r=Math.floor(1e9*Math.random()),[4,this.Api.get("/base/fcgi-bin/fcg_musicexpress.fcg",{json:3,guid:r})];case 1:return n=o.sent().key,[4,this.getMid(e)];case 2:switch(i=o.sent(),t){case 128:return[2,"http://183.131.60.16/amobile.music.tc.qq.com/M500"+i+".mp3?vkey="+n+"&guid="+r+"&fromtag=30"];case 320:return[2,"http://183.131.60.16/amobile.music.tc.qq.com/M800"+i+".mp3?vkey="+n+"&guid="+r+"&fromtag=30"];case 999:return[2,"http://183.131.60.16/amobile.music.tc.qq.com/F000"+i+".flac?vkey="+n+"&guid="+r+"&fromtag=54"];default:return[2,""]}return[2]}})})},t}(s.default);t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return 100==(n=t,(r=e)?r.program?0:n?null!=n.st&&n.st<0?100:n.fee>0&&8!=n.fee&&0==n.payed&&n.pl<=0?10:16==n.fee||4==n.fee&&2048&n.flag?11:(0==n.fee||n.payed)&&n.pl>0&&0==n.dl?1e3:0==n.pl&&0==n.dl?100:0:(null!=r.status?r.status:null!=r.st&&r.st,r.status>=0?0:r.fee>0?10:100):0);var r,n}},function(e,t,r){"use strict";function n(e,t){return Array.from(new Array(t),function(){return e[Math.floor(Math.random()*e.length)]}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){void 0===e&&(e="");var t=e.split(/;\s*/).map(function(e){return e.split("=")[0]}),r=[],i=(new Date).getTime();if(!t.includes("JSESSIONID-WYYY")){var o=new Date(i+18e5),a=n("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ\\/+",176)+":"+o.getTime();r.push(["JSESSIONID-WYYY="+a,"Expires="+o.toUTCString()])}t.includes("_iuqxldmzr_")||(o=new Date(i+15768e7),r.push(["_iuqxldmzr_=32","Expires="+o.toUTCString()]));if(!t.includes("_ntes_nnid")||!t.includes("_ntes_nuid")){o=new Date(i+31536e8);var u=n("0123456789abcdefghijklmnopqrstuvwxyz",32)+","+i;r.push(["_ntes_nnid="+u,"Expires="+o.toUTCString()]),r.push(["_ntes_nuid="+u.slice(0,32),"Expires="+o.toUTCString()])}return r.map(function(e){return e[0]}).join("; ")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,bigInt=function(undefined){"use strict";var BASE=1e7,LOG_BASE=7,MAX_INT=9007199254740992,MAX_INT_ARR=smallToArray(MAX_INT),DEFAULT_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyz",supportsNativeBigInt="function"==typeof BigInt,pow;function Integer(e,t,r,n){return void 0===e?Integer[0]:void 0!==t&&(10!=+t||r)?parseBase(e,t,r,n):parseValue(e)}function BigInteger(e,t){this.value=e,this.sign=t,this.isSmall=!1}function SmallInteger(e){this.value=e,this.sign=e<0,this.isSmall=!0}function NativeBigInt(e){this.value=e}function isPrecise(e){return-MAX_INT<e&&e<MAX_INT}function smallToArray(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function arrayToSmall(e){trim(e);var t=e.length;if(t<4&&compareAbs(e,MAX_INT_ARR)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*BASE;default:return e[0]+(e[1]+e[2]*BASE)*BASE}return e}function trim(e){for(var t=e.length;0===e[--t];);e.length=t+1}function createArray(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function truncate(e){return e>0?Math.floor(e):Math.ceil(e)}function add(e,t){var r,n,i=e.length,o=t.length,a=new Array(i),u=0,s=BASE;for(n=0;n<o;n++)u=(r=e[n]+t[n]+u)>=s?1:0,a[n]=r-u*s;for(;n<i;)u=(r=e[n]+u)===s?1:0,a[n++]=r-u*s;return u>0&&a.push(u),a}function addAny(e,t){return e.length>=t.length?add(e,t):add(t,e)}function addSmall(e,t){var r,n,i=e.length,o=new Array(i),a=BASE;for(n=0;n<i;n++)r=e[n]-a+t,t=Math.floor(r/a),o[n]=r-t*a,t+=1;for(;t>0;)o[n++]=t%a,t=Math.floor(t/a);return o}function subtract(e,t){var r,n,i=e.length,o=t.length,a=new Array(i),u=0,s=BASE;for(r=0;r<o;r++)(n=e[r]-u-t[r])<0?(n+=s,u=1):u=0,a[r]=n;for(r=o;r<i;r++){if(!((n=e[r]-u)<0)){a[r++]=n;break}n+=s,a[r]=n}for(;r<i;r++)a[r]=e[r];return trim(a),a}function subtractAny(e,t,r){var n;return compareAbs(e,t)>=0?n=subtract(e,t):(n=subtract(t,e),r=!r),"number"==typeof(n=arrayToSmall(n))?(r&&(n=-n),new SmallInteger(n)):new BigInteger(n,r)}function subtractSmall(e,t,r){var n,i,o=e.length,a=new Array(o),u=-t,s=BASE;for(n=0;n<o;n++)i=e[n]+u,u=Math.floor(i/s),i%=s,a[n]=i<0?i+s:i;return"number"==typeof(a=arrayToSmall(a))?(r&&(a=-a),new SmallInteger(a)):new BigInteger(a,r)}function multiplyLong(e,t){var r,n,i,o,a=e.length,u=t.length,s=createArray(a+u),l=BASE;for(i=0;i<a;++i){o=e[i];for(var p=0;p<u;++p)r=o*t[p]+s[i+p],n=Math.floor(r/l),s[i+p]=r-n*l,s[i+p+1]+=n}return trim(s),s}function multiplySmall(e,t){var r,n,i=e.length,o=new Array(i),a=BASE,u=0;for(n=0;n<i;n++)r=e[n]*t+u,u=Math.floor(r/a),o[n]=r-u*a;for(;u>0;)o[n++]=u%a,u=Math.floor(u/a);return o}function shiftLeft(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function multiplyKaratsuba(e,t){var r=Math.max(e.length,t.length);if(r<=30)return multiplyLong(e,t);r=Math.ceil(r/2);var n=e.slice(r),i=e.slice(0,r),o=t.slice(r),a=t.slice(0,r),u=multiplyKaratsuba(i,a),s=multiplyKaratsuba(n,o),l=addAny(addAny(u,shiftLeft(subtract(subtract(multiplyKaratsuba(addAny(i,n),addAny(a,o)),u),s),r)),shiftLeft(s,2*r));return trim(l),l}function useKaratsuba(e,t){return-.012*e-.012*t+15e-6*e*t>0}function multiplySmallAndArray(e,t,r){return new BigInteger(e<BASE?multiplySmall(t,e):multiplyLong(t,smallToArray(e)),r)}function square(e){var t,r,n,i,o=e.length,a=createArray(o+o),u=BASE;for(n=0;n<o;n++){r=0-(i=e[n])*i;for(var s=n;s<o;s++)t=i*e[s]*2+a[n+s]+r,r=Math.floor(t/u),a[n+s]=t-r*u;a[n+o]=r}return trim(a),a}function divMod1(e,t){var r,n,i,o,a,u,s,l=e.length,p=t.length,c=BASE,f=createArray(t.length),g=t[p-1],h=Math.ceil(c/(2*g)),d=multiplySmall(e,h),y=multiplySmall(t,h);for(d.length<=l&&d.push(0),y.push(0),g=y[p-1],n=l-p;n>=0;n--){for(r=c-1,d[n+p]!==g&&(r=Math.floor((d[n+p]*c+d[n+p-1])/g)),i=0,o=0,u=y.length,a=0;a<u;a++)i+=r*y[a],s=Math.floor(i/c),o+=d[n+a]-(i-s*c),i=s,o<0?(d[n+a]=o+c,o=-1):(d[n+a]=o,o=0);for(;0!==o;){for(r-=1,i=0,a=0;a<u;a++)(i+=d[n+a]-c+y[a])<0?(d[n+a]=i+c,i=0):(d[n+a]=i,i=1);o+=i}f[n]=r}return d=divModSmall(d,h)[0],[arrayToSmall(f),arrayToSmall(d)]}function divMod2(e,t){for(var r,n,i,o,a,u=e.length,s=t.length,l=[],p=[],c=BASE;u;)if(p.unshift(e[--u]),trim(p),compareAbs(p,t)<0)l.push(0);else{i=p[(n=p.length)-1]*c+p[n-2],o=t[s-1]*c+t[s-2],n>s&&(i=(i+1)*c),r=Math.ceil(i/o);do{if(compareAbs(a=multiplySmall(t,r),p)<=0)break;r--}while(r);l.push(r),p=subtract(p,a)}return l.reverse(),[arrayToSmall(l),arrayToSmall(p)]}function divModSmall(e,t){var r,n,i,o,a=e.length,u=createArray(a),s=BASE;for(i=0,r=a-1;r>=0;--r)i=(o=i*s+e[r])-(n=truncate(o/t))*t,u[r]=0|n;return[u,0|i]}function divModAny(e,t){var r,n=parseValue(t);if(supportsNativeBigInt)return[new NativeBigInt(e.value/n.value),new NativeBigInt(e.value%n.value)];var i,o=e.value,a=n.value;if(0===a)throw new Error("Cannot divide by zero");if(e.isSmall)return n.isSmall?[new SmallInteger(truncate(o/a)),new SmallInteger(o%a)]:[Integer[0],e];if(n.isSmall){if(1===a)return[e,Integer[0]];if(-1==a)return[e.negate(),Integer[0]];var u=Math.abs(a);if(u<BASE){i=arrayToSmall((r=divModSmall(o,u))[0]);var s=r[1];return e.sign&&(s=-s),"number"==typeof i?(e.sign!==n.sign&&(i=-i),[new SmallInteger(i),new SmallInteger(s)]):[new BigInteger(i,e.sign!==n.sign),new SmallInteger(s)]}a=smallToArray(u)}var l=compareAbs(o,a);if(-1===l)return[Integer[0],e];if(0===l)return[Integer[e.sign===n.sign?1:-1],Integer[0]];i=(r=o.length+a.length<=200?divMod1(o,a):divMod2(o,a))[0];var p=e.sign!==n.sign,c=r[1],f=e.sign;return"number"==typeof i?(p&&(i=-i),i=new SmallInteger(i)):i=new BigInteger(i,p),"number"==typeof c?(f&&(c=-c),c=new SmallInteger(c)):c=new BigInteger(c,f),[i,c]}function compareAbs(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function isBasicPrime(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function millerRabinTest(e,t){for(var r,n,i,o=e.prev(),a=o,u=0;a.isEven();)a=a.divide(2),u++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!(i=bigInt(t[n]).modPow(a,e)).isUnit()&&!i.equals(o)){for(r=u-1;0!=r;r--){if((i=i.square().mod(e)).isUnit())return!1;if(i.equals(o))continue e}return!1}return!0}BigInteger.prototype=Object.create(Integer.prototype),SmallInteger.prototype=Object.create(Integer.prototype),NativeBigInt.prototype=Object.create(Integer.prototype),BigInteger.prototype.add=function(e){var t=parseValue(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new BigInteger(addSmall(r,Math.abs(n)),this.sign):new BigInteger(addAny(r,n),this.sign)},BigInteger.prototype.plus=BigInteger.prototype.add,SmallInteger.prototype.add=function(e){var t=parseValue(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(isPrecise(r+n))return new SmallInteger(r+n);n=smallToArray(Math.abs(n))}return new BigInteger(addSmall(n,Math.abs(r)),r<0)},SmallInteger.prototype.plus=SmallInteger.prototype.add,NativeBigInt.prototype.add=function(e){return new NativeBigInt(this.value+parseValue(e).value)},NativeBigInt.prototype.plus=NativeBigInt.prototype.add,BigInteger.prototype.subtract=function(e){var t=parseValue(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?subtractSmall(r,Math.abs(n),this.sign):subtractAny(r,n,this.sign)},BigInteger.prototype.minus=BigInteger.prototype.subtract,SmallInteger.prototype.subtract=function(e){var t=parseValue(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new SmallInteger(r-n):subtractSmall(n,Math.abs(r),r>=0)},SmallInteger.prototype.minus=SmallInteger.prototype.subtract,NativeBigInt.prototype.subtract=function(e){return new NativeBigInt(this.value-parseValue(e).value)},NativeBigInt.prototype.minus=NativeBigInt.prototype.subtract,BigInteger.prototype.negate=function(){return new BigInteger(this.value,!this.sign)},SmallInteger.prototype.negate=function(){var e=this.sign,t=new SmallInteger(-this.value);return t.sign=!e,t},NativeBigInt.prototype.negate=function(){return new NativeBigInt(-this.value)},BigInteger.prototype.abs=function(){return new BigInteger(this.value,!1)},SmallInteger.prototype.abs=function(){return new SmallInteger(Math.abs(this.value))},NativeBigInt.prototype.abs=function(){return new NativeBigInt(this.value>=0?this.value:-this.value)},BigInteger.prototype.multiply=function(e){var t,r=parseValue(e),n=this.value,i=r.value,o=this.sign!==r.sign;if(r.isSmall){if(0===i)return Integer[0];if(1===i)return this;if(-1===i)return this.negate();if((t=Math.abs(i))<BASE)return new BigInteger(multiplySmall(n,t),o);i=smallToArray(t)}return useKaratsuba(n.length,i.length)?new BigInteger(multiplyKaratsuba(n,i),o):new BigInteger(multiplyLong(n,i),o)},BigInteger.prototype.times=BigInteger.prototype.multiply,SmallInteger.prototype._multiplyBySmall=function(e){return isPrecise(e.value*this.value)?new SmallInteger(e.value*this.value):multiplySmallAndArray(Math.abs(e.value),smallToArray(Math.abs(this.value)),this.sign!==e.sign)},BigInteger.prototype._multiplyBySmall=function(e){return 0===e.value?Integer[0]:1===e.value?this:-1===e.value?this.negate():multiplySmallAndArray(Math.abs(e.value),this.value,this.sign!==e.sign)},SmallInteger.prototype.multiply=function(e){return parseValue(e)._multiplyBySmall(this)},SmallInteger.prototype.times=SmallInteger.prototype.multiply,NativeBigInt.prototype.multiply=function(e){return new NativeBigInt(this.value*parseValue(e).value)},NativeBigInt.prototype.times=NativeBigInt.prototype.multiply,BigInteger.prototype.square=function(){return new BigInteger(square(this.value),!1)},SmallInteger.prototype.square=function(){var e=this.value*this.value;return isPrecise(e)?new SmallInteger(e):new BigInteger(square(smallToArray(Math.abs(this.value))),!1)},NativeBigInt.prototype.square=function(e){return new NativeBigInt(this.value*this.value)},BigInteger.prototype.divmod=function(e){var t=divModAny(this,e);return{quotient:t[0],remainder:t[1]}},NativeBigInt.prototype.divmod=SmallInteger.prototype.divmod=BigInteger.prototype.divmod,BigInteger.prototype.divide=function(e){return divModAny(this,e)[0]},NativeBigInt.prototype.over=NativeBigInt.prototype.divide=SmallInteger.prototype.over=SmallInteger.prototype.divide=BigInteger.prototype.over=BigInteger.prototype.divide,BigInteger.prototype.mod=function(e){return divModAny(this,e)[1]},NativeBigInt.prototype.mod=NativeBigInt.prototype.remainder=SmallInteger.prototype.remainder=SmallInteger.prototype.mod=BigInteger.prototype.remainder=BigInteger.prototype.mod,BigInteger.prototype.pow=function(e){var t,r,n,i=parseValue(e),o=this.value,a=i.value;if(0===a)return Integer[1];if(0===o)return Integer[0];if(1===o)return Integer[1];if(-1===o)return i.isEven()?Integer[1]:Integer[-1];if(i.sign)return Integer[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&isPrecise(t=Math.pow(o,a)))return new SmallInteger(truncate(t));for(r=this,n=Integer[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},SmallInteger.prototype.pow=BigInteger.prototype.pow,supportsNativeBigInt&&(pow=eval("(a,b)=>a**b")),NativeBigInt.prototype.pow=function(e){var t=parseValue(e),r=this.value,n=t.value;return n===BigInt(0)?Integer[1]:r===BigInt(0)?Integer[0]:r===BigInt(1)?Integer[1]:r===BigInt(-1)?t.isEven()?Integer[1]:Integer[-1]:t.isNegative()?new NativeBigInt(BigInt(0)):new NativeBigInt(pow(r,n))},BigInteger.prototype.modPow=function(e,t){if(e=parseValue(e),(t=parseValue(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=Integer[1],n=this.mod(t);e.isPositive();){if(n.isZero())return Integer[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},NativeBigInt.prototype.modPow=SmallInteger.prototype.modPow=BigInteger.prototype.modPow,BigInteger.prototype.compareAbs=function(e){var t=parseValue(e),r=this.value,n=t.value;return t.isSmall?1:compareAbs(r,n)},SmallInteger.prototype.compareAbs=function(e){var t=parseValue(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},NativeBigInt.prototype.compareAbs=function(e){var t=this.value,r=parseValue(e).value;return(t=t>=0?t:-t)===(r=r>=0?r:-r)?0:t>r?1:-1},BigInteger.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=parseValue(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:compareAbs(r,n)*(this.sign?-1:1)},BigInteger.prototype.compareTo=BigInteger.prototype.compare,SmallInteger.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=parseValue(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},SmallInteger.prototype.compareTo=SmallInteger.prototype.compare,NativeBigInt.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=this.value,r=parseValue(e).value;return t===r?0:t>r?1:-1},NativeBigInt.prototype.compareTo=NativeBigInt.prototype.compare,BigInteger.prototype.equals=function(e){return 0===this.compare(e)},NativeBigInt.prototype.eq=NativeBigInt.prototype.equals=SmallInteger.prototype.eq=SmallInteger.prototype.equals=BigInteger.prototype.eq=BigInteger.prototype.equals,BigInteger.prototype.notEquals=function(e){return 0!==this.compare(e)},NativeBigInt.prototype.neq=NativeBigInt.prototype.notEquals=SmallInteger.prototype.neq=SmallInteger.prototype.notEquals=BigInteger.prototype.neq=BigInteger.prototype.notEquals,BigInteger.prototype.greater=function(e){return this.compare(e)>0},NativeBigInt.prototype.gt=NativeBigInt.prototype.greater=SmallInteger.prototype.gt=SmallInteger.prototype.greater=BigInteger.prototype.gt=BigInteger.prototype.greater,BigInteger.prototype.lesser=function(e){return this.compare(e)<0},NativeBigInt.prototype.lt=NativeBigInt.prototype.lesser=SmallInteger.prototype.lt=SmallInteger.prototype.lesser=BigInteger.prototype.lt=BigInteger.prototype.lesser,BigInteger.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},NativeBigInt.prototype.geq=NativeBigInt.prototype.greaterOrEquals=SmallInteger.prototype.geq=SmallInteger.prototype.greaterOrEquals=BigInteger.prototype.geq=BigInteger.prototype.greaterOrEquals,BigInteger.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},NativeBigInt.prototype.leq=NativeBigInt.prototype.lesserOrEquals=SmallInteger.prototype.leq=SmallInteger.prototype.lesserOrEquals=BigInteger.prototype.leq=BigInteger.prototype.lesserOrEquals,BigInteger.prototype.isEven=function(){return 0==(1&this.value[0])},SmallInteger.prototype.isEven=function(){return 0==(1&this.value)},NativeBigInt.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},BigInteger.prototype.isOdd=function(){return 1==(1&this.value[0])},SmallInteger.prototype.isOdd=function(){return 1==(1&this.value)},NativeBigInt.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},BigInteger.prototype.isPositive=function(){return!this.sign},SmallInteger.prototype.isPositive=function(){return this.value>0},NativeBigInt.prototype.isPositive=SmallInteger.prototype.isPositive,BigInteger.prototype.isNegative=function(){return this.sign},SmallInteger.prototype.isNegative=function(){return this.value<0},NativeBigInt.prototype.isNegative=SmallInteger.prototype.isNegative,BigInteger.prototype.isUnit=function(){return!1},SmallInteger.prototype.isUnit=function(){return 1===Math.abs(this.value)},NativeBigInt.prototype.isUnit=function(){return this.abs().value===BigInt(1)},BigInteger.prototype.isZero=function(){return!1},SmallInteger.prototype.isZero=function(){return 0===this.value},NativeBigInt.prototype.isZero=function(){return this.value===BigInt(0)},BigInteger.prototype.isDivisibleBy=function(e){var t=parseValue(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},NativeBigInt.prototype.isDivisibleBy=SmallInteger.prototype.isDivisibleBy=BigInteger.prototype.isDivisibleBy,BigInteger.prototype.isPrime=function(e){var t=isBasicPrime(this);if(t!==undefined)return t;var r=this.abs(),n=r.bitLength();if(n<=64)return millerRabinTest(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*n.toJSNumber(),o=Math.ceil(!0===e?2*Math.pow(i,2):i),a=[],u=0;u<o;u++)a.push(bigInt(u+2));return millerRabinTest(r,a)},NativeBigInt.prototype.isPrime=SmallInteger.prototype.isPrime=BigInteger.prototype.isPrime,BigInteger.prototype.isProbablePrime=function(e){var t=isBasicPrime(this);if(t!==undefined)return t;for(var r=this.abs(),n=e===undefined?5:e,i=[],o=0;o<n;o++)i.push(bigInt.randBetween(2,r.minus(2)));return millerRabinTest(r,i)},NativeBigInt.prototype.isProbablePrime=SmallInteger.prototype.isProbablePrime=BigInteger.prototype.isProbablePrime,BigInteger.prototype.modInv=function(e){for(var t,r,n,i=bigInt.zero,o=bigInt.one,a=parseValue(e),u=this.abs();!u.isZero();)t=a.divide(u),r=i,n=a,i=o,a=u,o=r.subtract(t.multiply(o)),u=n.subtract(t.multiply(u));if(!a.isUnit())throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},NativeBigInt.prototype.modInv=SmallInteger.prototype.modInv=BigInteger.prototype.modInv,BigInteger.prototype.next=function(){var e=this.value;return this.sign?subtractSmall(e,1,this.sign):new BigInteger(addSmall(e,1),this.sign)},SmallInteger.prototype.next=function(){var e=this.value;return e+1<MAX_INT?new SmallInteger(e+1):new BigInteger(MAX_INT_ARR,!1)},NativeBigInt.prototype.next=function(){return new NativeBigInt(this.value+BigInt(1))},BigInteger.prototype.prev=function(){var e=this.value;return this.sign?new BigInteger(addSmall(e,1),!0):subtractSmall(e,1,this.sign)},SmallInteger.prototype.prev=function(){var e=this.value;return e-1>-MAX_INT?new SmallInteger(e-1):new BigInteger(MAX_INT_ARR,!0)},NativeBigInt.prototype.prev=function(){return new NativeBigInt(this.value-BigInt(1))};for(var powersOfTwo=[1];2*powersOfTwo[powersOfTwo.length-1]<=BASE;)powersOfTwo.push(2*powersOfTwo[powersOfTwo.length-1]);var powers2Length=powersOfTwo.length,highestPower2=powersOfTwo[powers2Length-1];function shift_isSmall(e){return Math.abs(e)<=BASE}function bitwise(e,t,r){t=parseValue(t);for(var n=e.isNegative(),i=t.isNegative(),o=n?e.not():e,a=i?t.not():t,u=0,s=0,l=null,p=null,c=[];!o.isZero()||!a.isZero();)u=(l=divModAny(o,highestPower2))[1].toJSNumber(),n&&(u=highestPower2-1-u),s=(p=divModAny(a,highestPower2))[1].toJSNumber(),i&&(s=highestPower2-1-s),o=l[0],a=p[0],c.push(r(u,s));for(var f=0!==r(n?1:0,i?1:0)?bigInt(-1):bigInt(0),g=c.length-1;g>=0;g-=1)f=f.multiply(highestPower2).add(bigInt(c[g]));return f}BigInteger.prototype.shiftLeft=function(e){var t=parseValue(e).toJSNumber();if(!shift_isSmall(t))throw new Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var r=this;if(r.isZero())return r;for(;t>=powers2Length;)r=r.multiply(highestPower2),t-=powers2Length-1;return r.multiply(powersOfTwo[t])},NativeBigInt.prototype.shiftLeft=SmallInteger.prototype.shiftLeft=BigInteger.prototype.shiftLeft,BigInteger.prototype.shiftRight=function(e){var t,r=parseValue(e).toJSNumber();if(!shift_isSmall(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=powers2Length;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(t=divModAny(n,highestPower2))[1].isNegative()?t[0].prev():t[0],r-=powers2Length-1}return(t=divModAny(n,powersOfTwo[r]))[1].isNegative()?t[0].prev():t[0]},NativeBigInt.prototype.shiftRight=SmallInteger.prototype.shiftRight=BigInteger.prototype.shiftRight,BigInteger.prototype.not=function(){return this.negate().prev()},NativeBigInt.prototype.not=SmallInteger.prototype.not=BigInteger.prototype.not,BigInteger.prototype.and=function(e){return bitwise(this,e,function(e,t){return e&t})},NativeBigInt.prototype.and=SmallInteger.prototype.and=BigInteger.prototype.and,BigInteger.prototype.or=function(e){return bitwise(this,e,function(e,t){return e|t})},NativeBigInt.prototype.or=SmallInteger.prototype.or=BigInteger.prototype.or,BigInteger.prototype.xor=function(e){return bitwise(this,e,function(e,t){return e^t})},NativeBigInt.prototype.xor=SmallInteger.prototype.xor=BigInteger.prototype.xor;var LOBMASK_I=1<<30,LOBMASK_BI=(BASE&-BASE)*(BASE&-BASE)|LOBMASK_I;function roughLOB(e){var t=e.value,r="number"==typeof t?t|LOBMASK_I:"bigint"==typeof t?t|BigInt(LOBMASK_I):t[0]+t[1]*BASE|LOBMASK_BI;return r&-r}function integerLogarithm(e,t){if(t.compareTo(e)<=0){var r=integerLogarithm(e,t.square(t)),n=r.p,i=r.e,o=n.multiply(t);return o.compareTo(e)<=0?{p:o,e:2*i+1}:{p:n,e:2*i}}return{p:bigInt(1),e:0}}function max(e,t){return e=parseValue(e),t=parseValue(t),e.greater(t)?e:t}function min(e,t){return e=parseValue(e),t=parseValue(t),e.lesser(t)?e:t}function gcd(e,t){if(e=parseValue(e).abs(),t=parseValue(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=Integer[1];e.isEven()&&t.isEven();)r=min(roughLOB(e),roughLOB(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(roughLOB(e));do{for(;t.isEven();)t=t.divide(roughLOB(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}function lcm(e,t){return e=parseValue(e).abs(),t=parseValue(t).abs(),e.divide(gcd(e,t)).multiply(t)}function randBetween(e,t){var r=min(e=parseValue(e),t=parseValue(t)),n=max(e,t).subtract(r).add(1);if(n.isSmall)return r.add(Math.floor(Math.random()*n));for(var i=toBase(n,BASE).value,o=[],a=!0,u=0;u<i.length;u++){var s=a?i[u]:BASE,l=truncate(Math.random()*s);o.push(l),l<s&&(a=!1)}return r.add(Integer.fromArray(o,BASE,!1))}BigInteger.prototype.bitLength=function(){var e=this;return e.compareTo(bigInt(0))<0&&(e=e.negate().subtract(bigInt(1))),0===e.compareTo(bigInt(0))?bigInt(0):bigInt(integerLogarithm(e,bigInt(2)).e).add(bigInt(1))},NativeBigInt.prototype.bitLength=SmallInteger.prototype.bitLength=BigInteger.prototype.bitLength;var parseBase=function(e,t,r,n){r=r||DEFAULT_ALPHABET,e=String(e),n||(e=e.toLowerCase(),r=r.toLowerCase());var i,o=e.length,a=Math.abs(t),u={};for(i=0;i<r.length;i++)u[r[i]]=i;for(i=0;i<o;i++){if("-"!==(p=e[i])&&(p in u&&u[p]>=a)){if("1"===p&&1===a)continue;throw new Error(p+" is not a valid digit in base "+t+".")}}t=parseValue(t);var s=[],l="-"===e[0];for(i=l?1:0;i<e.length;i++){var p;if((p=e[i])in u)s.push(parseValue(u[p]));else{if("<"!==p)throw new Error(p+" is not a valid character");var c=i;do{i++}while(">"!==e[i]&&i<e.length);s.push(parseValue(e.slice(c+1,i)))}}return parseBaseFromArray(s,t,l)};function parseBaseFromArray(e,t,r){var n,i=Integer[0],o=Integer[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(o)),o=o.times(t);return r?i.negate():i}function stringify(e,t){return e<(t=t||DEFAULT_ALPHABET).length?t[e]:"<"+e+">"}function toBase(e,t){if((t=bigInt(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var i,o=[],a=e;a.isNegative()||a.compareAbs(t)>=0;){a=(i=a.divmod(t)).quotient;var u=i.remainder;u.isNegative()&&(u=t.minus(u).abs(),a=a.next()),o.push(u.toJSNumber())}return o.push(a.toJSNumber()),{value:o.reverse(),isNegative:n}}function toBaseString(e,t,r){var n=toBase(e,t);return(n.isNegative?"-":"")+n.value.map(function(e){return stringify(e,r)}).join("")}function parseStringValue(e){if(isPrecise(+e)){var t=+e;if(t===truncate(t))return supportsNativeBigInt?new NativeBigInt(BigInt(t)):new SmallInteger(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==truncate(i)||!isPrecise(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=n[0],a=o.indexOf(".");if(a>=0&&(i-=o.length-a-1,o=o.slice(0,a)+o.slice(a+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);if(supportsNativeBigInt)return new NativeBigInt(BigInt(r?"-"+e:e));for(var u=[],s=e.length,l=LOG_BASE,p=s-l;s>0;)u.push(+e.slice(p,s)),(p-=l)<0&&(p=0),s-=l;return trim(u),new BigInteger(u,r)}function parseNumberValue(e){if(supportsNativeBigInt)return new NativeBigInt(BigInt(e));if(isPrecise(e)){if(e!==truncate(e))throw new Error(e+" is not an integer.");return new SmallInteger(e)}return parseStringValue(e.toString())}function parseValue(e){return"number"==typeof e?parseNumberValue(e):"string"==typeof e?parseStringValue(e):"bigint"==typeof e?new NativeBigInt(e):e}BigInteger.prototype.toArray=function(e){return toBase(this,e)},SmallInteger.prototype.toArray=function(e){return toBase(this,e)},NativeBigInt.prototype.toArray=function(e){return toBase(this,e)},BigInteger.prototype.toString=function(e,t){if(e===undefined&&(e=10),10!==e)return toBaseString(this,e,t);for(var r,n=this.value,i=n.length,o=String(n[--i]);--i>=0;)r=String(n[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},SmallInteger.prototype.toString=function(e,t){return e===undefined&&(e=10),10!=e?toBaseString(this,e,t):String(this.value)},NativeBigInt.prototype.toString=SmallInteger.prototype.toString,NativeBigInt.prototype.toJSON=BigInteger.prototype.toJSON=SmallInteger.prototype.toJSON=function(){return this.toString()},BigInteger.prototype.valueOf=function(){return parseInt(this.toString(),10)},BigInteger.prototype.toJSNumber=BigInteger.prototype.valueOf,SmallInteger.prototype.valueOf=function(){return this.value},SmallInteger.prototype.toJSNumber=SmallInteger.prototype.valueOf,NativeBigInt.prototype.valueOf=NativeBigInt.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var i=0;i<1e3;i++)Integer[i]=parseValue(i),i>0&&(Integer[-i]=parseValue(-i));return Integer.one=Integer[1],Integer.zero=Integer[0],Integer.minusOne=Integer[-1],Integer.max=max,Integer.min=min,Integer.gcd=gcd,Integer.lcm=lcm,Integer.isInstance=function(e){return e instanceof BigInteger||e instanceof SmallInteger||e instanceof NativeBigInt},Integer.randBetween=randBetween,Integer.fromArray=function(e,t,r){return parseBaseFromArray(e.map(parseValue),parseValue(t||10),r)},Integer}();void 0!==module&&module.hasOwnProperty("exports")&&(module.exports=bigInt),__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return bigInt}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(14)(module))},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(16)),o=n(r(15)),a="00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7",u="0CoJUm6Qyw8W8jud",s="010001";function l(e,t){var r=e,n=Buffer.from("0102030405060708","binary"),o=Buffer.from(t,"binary"),a=i.default.createCipheriv("AES-128-CBC",o,n),u=a.update(r,"utf8","base64");return u+=a.final("base64")}t.default=function(e){var t=JSON.stringify(e),r=function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",n=0;n<e;n++){var i=Math.random()*t.length;i=Math.floor(i),r+=t.charAt(i)}return r}(16);return{params:l(l(t,u),r),encSecKey:function(e,t,r){var n=e.split("").reverse().join(""),i=o.default(Buffer.from(n).toString("hex"),16),a=o.default(t,16),u=o.default(r,16);return function(e,t){for(;e.length<t;)e="0"+e;return e}(i.modPow(a,u).toString(16),256)}(r,s,a)}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),o=n(r(17)),a=n(r(13)),u="netease-login-cookie";t.default=function(e){e.config.baseURL="http://music.163.com",e.config.timeout=5e3,e.config.rejectUnauthorized=!1,e.config.headers={Accept:"*/*","Accept-Language":"zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4",Connection:"keep-alive","X-Real-IP":"223.74.158.213","Content-Type":"application/x-www-form-urlencoded",Referer:"http://music.163.com",Host:"music.163.com","User-Agent":i.randomUserAgent(),Cookie:a.default()},e.interceptors.request.use(function(e){var t=o.default(e.body);return i.isBrowser&&i.cache.get(u)&&(e.headers.Cookie=u),e.body={params:t.params,encSecKey:t.encSecKey},e}),e.interceptors.response.use(function(e){if(!e.data)return Promise.reject({msg:"请求无结果",log:e});var t="string"==typeof e.data?JSON.parse(e.data):e.data;return 200!==t.code?Promise.reject({msg:"请求失败",log:e}):t},function(e){return Promise.reject(e)})}},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={type:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObject:function(e,t){return t?"object"===this.type(e):e&&"object"===(void 0===e?"undefined":n(e))},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},encode:function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")},formatParams:function(e){var t="",r=!0,n=this;if(!this.isObject(e))return e;return function e(i,o){var a=n.encode,u=n.type(i);if("array"==u)i.forEach(function(t,r){n.isObject(t)||(r=""),e(t,o+"%5B"+r+"%5D")});else if("object"==u)for(var s in i)e(i[s],o?o+"%5B"+a(s)+"%5D":a(s));else r||(t+="&"),r=!1,t+=o+"="+a(i)}(e,""),t},merge:function(e,t){for(var r in t)e.hasOwnProperty(r)?this.isObject(t[r],1)&&this.isObject(e[r],1)&&this.merge(e[r],t[r]):e[r]=t[r];return e}}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(0),a="undefined"!=typeof document;e.exports=function(e){return function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.requestHeaders={},this.readyState=0,this.timeout=0,this.responseURL="",this.responseHeaders={}}return i(t,[{key:"_call",value:function(e){this[e]&&this[e].apply(this,[].splice.call(arguments,1))}},{key:"_changeReadyState",value:function(e){this.readyState=e,this._call("onreadystatechange")}},{key:"open",value:function(e,t){if(this.method=e,t){if(0!==(t=o.trim(t)).indexOf("http")&&a){var r=document.createElement("a");r.href=t,t=r.href}}else t=location.href;this.responseURL=t,this._changeReadyState(1)}},{key:"send",value:function(t){var r=this;t=t||null;var i=this;if(e){var u,s={method:i.method,url:i.responseURL,headers:i.requestHeaders||{},body:t};o.merge(s,i._options||{}),"GET"===s.method&&(s.body=null),i._changeReadyState(3),i.timeout=i.timeout||0,i.timeout>0&&(u=setTimeout(function(){3===i.readyState&&(r._call("onloadend"),i._changeReadyState(0),i._call("ontimeout"))},i.timeout)),s.timeout=i.timeout,e(s,function(e){function t(t){var r=e[t];return delete e[t],r}if(3===i.readyState){clearTimeout(u),i.status=t("statusCode")-0;var r=t("responseText"),o=t("statusMessage");if(i.status){var s=t("headers"),l={};for(var p in s){var c=s[p],f=p.toLowerCase();"object"===(void 0===c?"undefined":n(c))?l[f]=c:(l[f]=l[f]||[],l[f].push(c))}var g=l["set-cookie"];a&&g&&g.forEach(function(e){document.cookie=e.replace(/;\s*httpOnly/gi,"")}),i.responseHeaders=l,i.statusText=o||"",i.response=i.responseText=r,i._response=e,i._changeReadyState(4),i._call("onload")}else i.statusText=r,i._call("onerror",{msg:o});i._call("onloadend")}})}else console.error("Ajax require adapter")}},{key:"setRequestHeader",value:function(e,t){this.requestHeaders[o.trim(e)]=t}},{key:"getResponseHeader",value:function(e){return(this.responseHeaders[e.toLowerCase()]||"").toString()||null}},{key:"getAllResponseHeaders",value:function(){var e="";for(var t in this.responseHeaders)e+=t+":"+this.getResponseHeader(t)+"\r\n";return e||null}},{key:"abort",value:function(e){this._changeReadyState(0),this._call("onerror",{msg:e}),this._call("onloadend")}}],[{key:"setAdapter",value:function(t){e=t}}]),t}()}}])},e.exports=n()},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,u)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=u(r(2)),l=u(r(1)),p=u(r(18)),c=u(r(12)),f=function(e){function t(t){var r=e.call(this,t)||this;return r.Api=new l.default(r.engine),p.default(r.Api),r}return i(t,e),t.prototype.getMusicInfo=function(e,t){return void 0===t&&(t=null),t||(t=e.privilege),{album:{id:e.al.id,name:e.al.name,cover:e.al.picUrl},artists:e.ar.map(function(e){return{id:e.id,name:e.name}}),name:e.name,songId:e.id,cp:c.default(e,t),maxbr:t.pl/1e3,mv:e.mv||null,vendor:"netease"}},t.prototype.search=function(e){var t=e.keyword,r=void 0===t?"":t,n=e.limit,i=void 0===n?30:n,u=e.page,s=void 0===u?1:u,l=e.type,p=void 0===l?"song":l;return o(this,void 0,void 0,function(){var e,t,n=this;return a(this,function(o){switch(o.label){case 0:return e={song:1,album:10,singer:100,playlist:1e3,user:1002},[4,this.Api.post("/weapi/cloudsearch/get/web",{csrf_token:"",limit:i,type:e[p],s:r,offset:s-1})];case 1:return[2,(t=o.sent().result)?{total:t.songCount,songs:t.songs.map(function(e){return n.getMusicInfo(e)})}:{total:0,songs:[]}]}})})},t.prototype.getSongDetail=function(e){return o(this,void 0,void 0,function(){var t,r,n=this;return a(this,function(i){switch(i.label){case 0:return this.checkId(e),[4,this.Api.post("/weapi/v3/song/detail",{c:JSON.stringify(e.map(function(e){return{id:e}})),ids:JSON.stringify(e),csrf_token:""})];case 1:return t=i.sent(),r={},t.privileges.forEach(function(e){r[e.id]=e}),[2,t.songs.map(function(e){return n.getMusicInfo(e,r[e.id])})]}})})},t.prototype.getSongUrl=function(e,t){return void 0===t&&(t=128),o(this,void 0,void 0,function(){var r;return a(this,function(n){switch(n.label){case 0:return this.checkBr(t),r={ids:[e],br:t*=1e3,csrf_token:""},[4,this.Api.post("/weapi/song/enhance/player/url",r)];case 1:return[2,n.sent().data[0].url]}})})},t}(s.default);t.default=f},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(20)),o=n(r(11)),a=n(r(9));t.default=function(e){return{netease:new i.default(e),qq:new o.default(e),xiami:new a.default(e)}}}])});